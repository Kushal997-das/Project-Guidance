var products = [
    {
        "p_id": "1",
        "p_category": "mens",
        "p_subcategory": "shoes",
        "p_name": "Nike Running Shoes",
        "p_brand": "Nike",
        "p_information": "Premium quality shoes by Nike. Best for running, fully comfortable for running and walking.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Sports Shoes",
        "p_color": "White-Orange",
        "p_size": "UK-7",
        "p_material": "Polyester",
        "p_quantity": "100",
        "p_price": "2000",
        "p_discount": "5",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "1",
                "p_image_ref": "1",
                "p_image_name": "assets/product images/nike shoes orange-white3.jpg"
            },
            {
                "p_image_id": "2",
                "p_image_ref": "1",
                "p_image_name": "assets/product images/nike shoes orange-white1.jpg"
            },
            {
                "p_image_id": "3",
                "p_image_ref": "1",
                "p_image_name": "assets/product images/nike shoes orange-white2.jpg"
            }
        ]
    },
    {
        "p_id": "2",
        "p_category": "womens",
        "p_subcategory": "shoes",
        "p_name": "Nike Sports Shoes",
        "p_brand": "Nike",
        "p_information": "Premium quality shoes by Nike. Best for running, fully comfortable for running and walking.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Sports Shoes",
        "p_color": "Light Green",
        "p_size": "UK-6",
        "p_material": "Polyester",
        "p_quantity": "100",
        "p_price": "2500",
        "p_discount": "15",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "4",
                "p_image_ref": "2",
                "p_image_name": "assets/product images/nike shoes light-green - 2.jpg"
            },
            {
                "p_image_id": "5",
                "p_image_ref": "2",
                "p_image_name": "assets/product images/nike shoes light-green - 3.jpg"
            },
            {
                "p_image_id": "6",
                "p_image_ref": "2",
                "p_image_name": "assets/product images/nike shoes light-green - 1.jpg"
            }
        ]
    },
    {
        "p_id": "3",
        "p_category": "mens",
        "p_subcategory": "jeans",
        "p_name": "Blue Denim Jeans",
        "p_brand": "Spykar",
        "p_information": "Blue jeans, regular fit mid-rise jeans for men.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Regular",
        "p_color": "Blue",
        "p_size": "32'",
        "p_material": "Denim",
        "p_quantity": "127",
        "p_price": "1499",
        "p_discount": "5",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "7",
                "p_image_ref": "3",
                "p_image_name": "assets/product images/jeansformen1.jpg"
            },
            {
                "p_image_id": "40",
                "p_image_ref": "3",
                "p_image_name": "assets/product images/jeansformen2.jpg"
            },
            {
                "p_image_id": "41",
                "p_image_ref": "3",
                "p_image_name": "assets/product images/jeansformen3.jpg"
            }
        ]
    },
    {
        "p_id": "5",
        "p_category": "accessories",
        "p_subcategory": "watches",
        "p_name": "Smart Watch 5i",
        "p_brand": "Watches&Time",
        "p_information": "Latest smart watch from watches&time with body sensors that will keep track of your healt. The watch has a battery backup upto 4 days.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Smart Watch",
        "p_color": "Black",
        "p_size": "44 m",
        "p_material": "Silicone",
        "p_quantity": "127",
        "p_price": "3399",
        "p_discount": "25",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "9",
                "p_image_ref": "5",
                "p_image_name": "assets/product images/smartwatchinbox1.jpg"
            },
            {
                "p_image_id": "30",
                "p_image_ref": "5",
                "p_image_name": "assets/product images/smartwatchinbox2.jpg"
            },
            {
                "p_image_id": "31",
                "p_image_ref": "5",
                "p_image_name": "assets/product images/smartwatchinbox3.jpg"
            }
        ]
    },
    {
        "p_id": "7",
        "p_category": "womens",
        "p_subcategory": "sweater",
        "p_name": "Yellow Sweater",
        "p_brand": "H&M",
        "p_information": "Woolen sweater for women by H&M. Quality made by H&M",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Full Sleeve",
        "p_color": "Yellow",
        "p_size": "L",
        "p_material": "Woolen",
        "p_quantity": "127",
        "p_price": "1499",
        "p_discount": "5",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "25",
                "p_image_ref": "7",
                "p_image_name": "assets/product images/yellowsweater1.png"
            },
            {
                "p_image_id": "26",
                "p_image_ref": "7",
                "p_image_name": "assets/product images/yellowsweater2.png"
            },
            {
                "p_image_id": "27",
                "p_image_ref": "7",
                "p_image_name": "assets/product images/yellowsweater3.png"
            }
        ]
    },
    {
        "p_id": "8",
        "p_category": "bags",
        "p_subcategory": "laptopbag",
        "p_name": "Black Laptop Bag 34L",
        "p_brand": "Lap Care",
        "p_information": "Black laptop bag with capacity of 34 litres, it can carry your laptop and other things also.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Laptop Bag",
        "p_color": "Black",
        "p_size": "34L",
        "p_material": "Synthetic fibres",
        "p_quantity": "127",
        "p_price": "999",
        "p_discount": "15",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "12",
                "p_image_ref": "8",
                "p_image_name": "assets/product images/backpack black1.jpg"
            },
            {
                "p_image_id": "34",
                "p_image_ref": "8",
                "p_image_name": "assets/product images/backpack black2.jpg"
            },
            {
                "p_image_id": "35",
                "p_image_ref": "8",
                "p_image_name": "assets/product images/backpack black3.jpg"
            }
        ]
    },
    {
        "p_id": "9",
        "p_category": "mens",
        "p_subcategory": "tshirts",
        "p_name": "Blue T-Shirt for Men",
        "p_brand": "Nike",
        "p_information": "Nike blue printed shirt. Premium quality cotton.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Regular Fit",
        "p_color": "Blue",
        "p_size": "XL",
        "p_material": "Cotton 80%",
        "p_quantity": "127",
        "p_price": "700",
        "p_discount": "5",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "13",
                "p_image_ref": "9",
                "p_image_name": "assets/product images/blue shirt1.jpg"
            },
            {
                "p_image_id": "38",
                "p_image_ref": "9",
                "p_image_name": "assets/product images/blue shirt2.jpg"
            },
            {
                "p_image_id": "39",
                "p_image_ref": "9",
                "p_image_name": "assets/product images/blue shirt3.jpg"
            }
        ]
    },
    {
        "p_id": "11",
        "p_category": "womens",
        "p_subcategory": "shoes",
        "p_name": "Addidas Sneakers",
        "p_brand": "Addidas",
        "p_information": "Addidas sneaker white for women. Best for casual wear.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Sneakers",
        "p_color": "White",
        "p_size": "UK-6",
        "p_material": "Polyester",
        "p_quantity": "127",
        "p_price": "1299",
        "p_discount": "50",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "15",
                "p_image_ref": "11",
                "p_image_name": "assets/product images/shoes1.jpg"
            },
            {
                "p_image_id": "28",
                "p_image_ref": "11",
                "p_image_name": "assets/product images/shoes2.jpg"
            },
            {
                "p_image_id": "29",
                "p_image_ref": "11",
                "p_image_name": "assets/product images/shoes3.jpg"
            }
        ]
    },
    {
        "p_id": "12",
        "p_category": "womens",
        "p_subcategory": "top",
        "p_name": "Full Sleeve Top",
        "p_brand": "fashtop",
        "p_information": "Full sleeve black top pure cotton premium quality.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Full Sleeve",
        "p_color": "Black",
        "p_size": "M",
        "p_material": "Cotton",
        "p_quantity": "127",
        "p_price": "799",
        "p_discount": "5",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "16",
                "p_image_ref": "12",
                "p_image_name": "assets/product images/blacktop1.png"
            },
            {
                "p_image_id": "17",
                "p_image_ref": "12",
                "p_image_name": "assets/product images/blacktop2.png"
            },
            {
                "p_image_id": "18",
                "p_image_ref": "12",
                "p_image_name": "assets/product images/blacktop3.png"
            }
        ]
    },
    {
        "p_id": "14",
        "p_category": "womens",
        "p_subcategory": "jeans",
        "p_name": "H&M Light Jeans",
        "p_brand": "H&M",
        "p_information": "Premium quality jeans by h&m for womens.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Slim Fit",
        "p_color": "Light Blue",
        "p_size": "28'",
        "p_material": "Denim",
        "p_quantity": "127",
        "p_price": "1999",
        "p_discount": "35",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "22",
                "p_image_ref": "14",
                "p_image_name": "assets/product images/skybluejeans1.png"
            },
            {
                "p_image_id": "23",
                "p_image_ref": "14",
                "p_image_name": "assets/product images/skybluejeans2.png"
            },
            {
                "p_image_id": "24",
                "p_image_ref": "14",
                "p_image_name": "assets/product images/skybluejeans3.png"
            }
        ]
    },
    {
        "p_id": "15",
        "p_category": "mens",
        "p_subcategory": "shoes",
        "p_name": "Nike Sneakers",
        "p_brand": "Nike",
        "p_information": "Nike sneakers red coloured, for causual wearing.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Sneakers",
        "p_color": "Red",
        "p_size": "UK-7",
        "p_material": "Polyester",
        "p_quantity": "127",
        "p_price": "2000",
        "p_discount": "40",
        "rating": "4.5", "timestamp": "2021-09-27 14:37:21",
        "images": [
            {
                "p_image_id": "11",
                "p_image_ref": "15",
                "p_image_name": "assets/product images/nike shoes red1.jpg"
            },
            {
                "p_image_id": "32",
                "p_image_ref": "15",
                "p_image_name": "assets/product images/nike shoes red2.jpg"
            },
            {
                "p_image_id": "33",
                "p_image_ref": "15",
                "p_image_name": "assets/product images/nike shoes red3.jpg"
            }
        ]
    },
    {
        "p_id": "17",
        "p_category": "mens",
        "p_subcategory": "watches",
        "p_name": "Wrogn Analog Watch",
        "p_brand": "Wrogn",
        "p_information": "Premium quality watch by Wrogn. Best for casual and trendy look.",
        "p_description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga modi quae, suscipit sint doloremque repellendus natus soluta atque doloribus quidem, mollitia blanditiis. Aliquid molestias distinctio accusantium, consequatur rerum deleniti onsectetur voluptatem excepturi laboriosam doloribus qui officia non aut odio. Deserunt acere dolore officia et non soluta nihil sit provident quia!",
        "p_type": "Analog",
        "p_color": "Black",
        "p_size": "44 m",
        "p_material": "Leather",
        "p_quantity": "100",
        "p_price": "3000",
        "p_discount": "64",
        "rating": "4.5", "timestamp": "2022-12-18 17:21:01",
        "images": [
            {
                "p_image_id": "44",
                "p_image_ref": "17",
                "p_image_name": "assets/product images/watch1.jpg"
            },
            {
                "p_image_id": "45",
                "p_image_ref": "17",
                "p_image_name": "assets/product images/watch2.jpg"
            },
            {
                "p_image_id": "46",
                "p_image_ref": "17",
                "p_image_name": "assets/product images/watch.jpg"
            }
        ]
    }
]

function loadproducts() {
    let div = document.getElementById("slick-slider");

    let context = "";

    let deal_of_day = products[0];

    for (let i = 0; i < products.length; i++) {

        if (deal_of_day.p_discount < products[i].p_discount) {
            deal_of_day = products[i];
        }

        if (products[i].p_discount >= 20) {
            let discounted = (products[i].p_price * products[i].p_discount) / 100
            let $final_price = products[i].p_price - discounted

            context += `<div class="card">
                        <img src="${products[i].images[0].p_image_name}" class="card-img-top" alt="${products[i].p_name}">
                        <div class="card-body">
                            <span class="user-rating">${products[i].rating} <i class="bi bi-star-fill"></i></span>
                            <a href="user/product_view/product.html?prev=${window.location}&id=${products[i].p_id}">
                                <h5>
                                ${products[i].p_name}
                                </h5>
                            </a>
                            <h6>Rs.
                                ${$final_price} <del class="offer">Rs.
                                    ${products[i].p_price}
                                </del>
                            </h6>
                        </div>
                    </div>`
        }
    }

    div.innerHTML = context

    loadDealOfTheDay(deal_of_day)
}

function loadDealOfTheDay(deal_of_day) {

    let div = document.getElementById("deal-of-the-day");
    let discounted = (deal_of_day.p_price * deal_of_day.p_discount) / 100
    let $final_price = deal_of_day.p_price - discounted
    let context = `<div class="col-md-5">
                        <img src="${deal_of_day.images[0].p_image_name}" class="w-100" alt="${deal_of_day.p_name}">
                    </div>
                    <div class="col-md-7 text-center">
                        <h3>Deal of The Day</h3>
                        <h2>
                            ${deal_of_day.p_name}
                        </h2>
                        <h4>at Rs.
                            ${$final_price} <del>Rs.
                                ${deal_of_day.p_price}
                            </del>
                        </h4>
                        <h5>Grab it Now!</h5>
                        <a href="user/product_view/product.html?prev=${window.location}&id=${deal_of_day.p_id}" class="btn btn-dark">Buy Now</a>
                    </div>`

    div.innerHTML = context

    loadPopularProducts("", "", "user")
}

function loadPopularProducts(type, dir, from) {
    let div = document.getElementById("popular-products");
    let context = "";
    for (let i = 0; i < products.length; i++) {

        if (type === "" || type === products[i].p_category
    || type === products[i].p_subcategory) {
            let discounted = (products[i].p_price * products[i].p_discount) / 100
            let $final_price = products[i].p_price - discounted

            context += ` <div class="col-lg-3 col-md-4 col-sm-6 col-6">
                            <div class="card">
                                <img src="${dir}${products[i].images[0].p_image_name}" class="card-img-top" alt="${products[i].p_name}">
                                <div class="card-body">
                                    <span class="user-rating">${products[i].rating} <i class="bi bi-star-fill"></i></span>
                                    <a href="${from}/product_view/product.html?prev=${window.location}&id=${products[i].p_id}">
                                        <h5>
                                            ${products[i].p_name}
                                        </h5>
                                    </a>
                                    <h6>Rs.
                                        ${$final_price} <del class="offer">Rs.
                                            ${products[i].p_price}
                                        </del>
                                    </h6>
                                </div>
                            </div>
                        </div>`
        }

    }

    div.innerHTML = context
}