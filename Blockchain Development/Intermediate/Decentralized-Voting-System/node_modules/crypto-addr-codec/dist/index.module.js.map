{"version":3,"file":"index.module.js","sources":["../lib/nem-sdk/convert.js","../lib/sha256/hash.js","../lib/sha256/sha256.js","../lib/ripple/utils.js","../lib/ripple/xrp-codec.js","../lib/rskjs/rsk.js","../lib/eos/helper.js","../lib/eos/ecc/point.js","../lib/eos/ecc/curve.js","../lib/eos/hash.js","../lib/eos/key_utils.js","../lib/eos/key_public.js","../lib/eos/ecc/names.js","../lib/str/publicKey.js","../lib/str/crc16xmodem.js","../lib/ss58/index.js","../lib/cashaddr/validation.js","../lib/cashaddr/cashaddr.js","../lib/bs58/bs58.js"],"sourcesContent":["/*!\nNEM-sdk - NEM Developer Kit for Node.js and the browser\n\nMIT License\n\nCopyright (c) 2017 QuantumMachine\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\nimport { Keccak } from 'sha3';\n\nconst alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\";\n\nexport const hex2a = (hexx) => {\n    var hex = hexx.toString();\n    var str = '';\n    for (var i = 0; i < hex.length; i += 2) {\n        str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\n    }return str;\n};\n\nvar _hexEncodeArray = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\nexport const ua2hex = (ua) => {\n    var s = '';\n    for (var i = 0; i < ua.length; i++) {\n        var code = ua[i];\n        s += _hexEncodeArray[code >>> 4];\n        s += _hexEncodeArray[code & 0x0F];\n    }\n    return s;\n};\n\nexport const b32decode = function b32decode(s) {\n    var r = new ArrayBuffer(s.length * 5 / 8);\n    var b = new Uint8Array(r);\n    for (var j = 0; j < s.length / 8; j++) {\n        var v = [0, 0, 0, 0, 0, 0, 0, 0];\n        for (var _i4 = 0; _i4 < 8; ++_i4) {\n            v[_i4] = alphabet.indexOf(s[j * 8 + _i4]);\n        }\n        var i = 0;\n        b[j * 5 + 0] = v[i + 0] << 3 | v[i + 1] >> 2;\n        b[j * 5 + 1] = (v[i + 1] & 0x3) << 6 | v[i + 2] << 1 | v[i + 3] >> 4;\n        b[j * 5 + 2] = (v[i + 3] & 0xf) << 4 | v[i + 4] >> 1;\n        b[j * 5 + 3] = (v[i + 4] & 0x1) << 7 | v[i + 5] << 2 | v[i + 6] >> 3;\n        b[j * 5 + 4] = (v[i + 6] & 0x7) << 5 | v[i + 7];\n    }\n    return b;\n};\n\nexport const b32encode = function b32encode(s) {\n    var parts = [];\n    var quanta = Math.floor(s.length / 5);\n    var leftover = s.length % 5;\n\n    if (leftover != 0) {\n        for (var i = 0; i < 5 - leftover; i++) {\n            s += '\\x00';\n        }\n        quanta += 1;\n    }\n\n    for (var _i = 0; _i < quanta; _i++) {\n        parts.push(alphabet.charAt(s.charCodeAt(_i * 5) >> 3));\n        parts.push(alphabet.charAt((s.charCodeAt(_i * 5) & 0x07) << 2 | s.charCodeAt(_i * 5 + 1) >> 6));\n        parts.push(alphabet.charAt((s.charCodeAt(_i * 5 + 1) & 0x3F) >> 1));\n        parts.push(alphabet.charAt((s.charCodeAt(_i * 5 + 1) & 0x01) << 4 | s.charCodeAt(_i * 5 + 2) >> 4));\n        parts.push(alphabet.charAt((s.charCodeAt(_i * 5 + 2) & 0x0F) << 1 | s.charCodeAt(_i * 5 + 3) >> 7));\n        parts.push(alphabet.charAt((s.charCodeAt(_i * 5 + 3) & 0x7F) >> 2));\n        parts.push(alphabet.charAt((s.charCodeAt(_i * 5 + 3) & 0x03) << 3 | s.charCodeAt(_i * 5 + 4) >> 5));\n        parts.push(alphabet.charAt(s.charCodeAt(_i * 5 + 4) & 0x1F));\n    }\n\n    var replace = 0;\n    if (leftover == 1) replace = 6;else if (leftover == 2) replace = 4;else if (leftover == 3) replace = 3;else if (leftover == 4) replace = 1;\n\n    for (var _i2 = 0; _i2 < replace; _i2++) {\n        parts.pop();\n    }for (var _i3 = 0; _i3 < replace; _i3++) {\n        parts.push(\"=\");\n    }return parts.join(\"\");\n};\n\nexport const isValid = addr => {\n    let address = addr.toString().toUpperCase().replace(/-/g, '');\n    if (!address || address.length !== 40) {\n        return false;\n    }\n\n    let decoded = toHex(b32decode(address));\n\n    let stepThreeChecksum = KeccakChecksum(Buffer.from(decoded.slice(0, 42), 'hex'));\n\n    return stepThreeChecksum === decoded.slice(42);\n};\n\nconst toHex = arrayOfBytes => {\n    let finalHex = '';\n    for (let i = 0; i < arrayOfBytes.length; i++) {\n        let hex = Math.round(arrayOfBytes[i]).toString(16);\n        if (hex.length === 1) {\n            hex = '0' + hex\n        }\n        finalHex += hex\n    }\n    return finalHex;\n};\n\nconst KeccakChecksum = (payload) => {\n    return new Keccak(256).update(payload).digest('hex').toString().substr(0, 8)\n};\n","/**\n * Part of sha.js package.\n *\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\nimport { Buffer } from 'safe-buffer';\n\n// prototype class for hash functions\nexport default function Hash (blockSize, finalSize) {\n  this._block = Buffer.alloc(blockSize)\n  this._finalSize = finalSize\n  this._blockSize = blockSize\n  this._len = 0\n}\n\nHash.prototype.update = function (data, enc) {\n  if (typeof data === 'string') {\n    enc = enc || 'utf8'\n    data = Buffer.from(data, enc)\n  }\n\n  var block = this._block\n  var blockSize = this._blockSize\n  var length = data.length\n  var accum = this._len\n\n  for (var offset = 0; offset < length;) {\n    var assigned = accum % blockSize\n    var remainder = Math.min(length - offset, blockSize - assigned)\n\n    for (var i = 0; i < remainder; i++) {\n      block[assigned + i] = data[offset + i]\n    }\n\n    accum += remainder\n    offset += remainder\n\n    if ((accum % blockSize) === 0) {\n      this._update(block)\n    }\n  }\n\n  this._len += length\n  return this\n}\n\nHash.prototype.digest = function (enc) {\n  var rem = this._len % this._blockSize\n\n  this._block[rem] = 0x80\n\n  // zero (rem + 1) trailing bits, where (rem + 1) is the smallest\n  // non-negative solution to the equation (length + 1 + (rem + 1)) === finalSize mod blockSize\n  this._block.fill(0, rem + 1)\n\n  if (rem >= this._finalSize) {\n    this._update(this._block)\n    this._block.fill(0)\n  }\n\n  var bits = this._len * 8\n\n  // uint32\n  if (bits <= 0xffffffff) {\n    this._block.writeUInt32BE(bits, this._blockSize - 4)\n\n  // uint64\n  } else {\n    var lowBits = (bits & 0xffffffff) >>> 0\n    var highBits = (bits - lowBits) / 0x100000000\n\n    this._block.writeUInt32BE(highBits, this._blockSize - 8)\n    this._block.writeUInt32BE(lowBits, this._blockSize - 4)\n  }\n\n  this._update(this._block)\n  var hash = this._hash()\n\n  return enc ? hash.toString(enc) : hash\n}\n\nHash.prototype._update = function () {\n  throw new Error('_update must be implemented by subclass')\n}\n","/**\n * Part of sha.js package.\n *\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nimport { Buffer } from 'safe-buffer';\nimport Hash from './hash';\n\nfunction inherits(ctor, superCtor) {\n  if (superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  }\n}\n\nvar K = [\n  0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5,\n  0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5,\n  0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3,\n  0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174,\n  0xE49B69C1, 0xEFBE4786, 0x0FC19DC6, 0x240CA1CC,\n  0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA,\n  0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7,\n  0xC6E00BF3, 0xD5A79147, 0x06CA6351, 0x14292967,\n  0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13,\n  0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85,\n  0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3,\n  0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070,\n  0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5,\n  0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3,\n  0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208,\n  0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2\n]\n\nvar W = new Array(64)\n\nexport default function Sha256 () {\n  this.init()\n\n  this._w = W // new Array(64)\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha256, Hash)\n\nSha256.prototype.init = function () {\n  this._a = 0x6a09e667\n  this._b = 0xbb67ae85\n  this._c = 0x3c6ef372\n  this._d = 0xa54ff53a\n  this._e = 0x510e527f\n  this._f = 0x9b05688c\n  this._g = 0x1f83d9ab\n  this._h = 0x5be0cd19\n\n  return this\n}\n\nfunction ch (x, y, z) {\n  return z ^ (x & (y ^ z))\n}\n\nfunction maj (x, y, z) {\n  return (x & y) | (z & (x | y))\n}\n\nfunction sigma0 (x) {\n  return (x >>> 2 | x << 30) ^ (x >>> 13 | x << 19) ^ (x >>> 22 | x << 10)\n}\n\nfunction sigma1 (x) {\n  return (x >>> 6 | x << 26) ^ (x >>> 11 | x << 21) ^ (x >>> 25 | x << 7)\n}\n\nfunction gamma0 (x) {\n  return (x >>> 7 | x << 25) ^ (x >>> 18 | x << 14) ^ (x >>> 3)\n}\n\nfunction gamma1 (x) {\n  return (x >>> 17 | x << 15) ^ (x >>> 19 | x << 13) ^ (x >>> 10)\n}\n\nSha256.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n  var f = this._f | 0\n  var g = this._g | 0\n  var h = this._h | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 64; ++i) W[i] = (gamma1(W[i - 2]) + W[i - 7] + gamma0(W[i - 15]) + W[i - 16]) | 0\n\n  for (var j = 0; j < 64; ++j) {\n    var T1 = (h + sigma1(e) + ch(e, f, g) + K[j] + W[j]) | 0\n    var T2 = (sigma0(a) + maj(a, b, c)) | 0\n\n    h = g\n    g = f\n    f = e\n    e = (d + T1) | 0\n    d = c\n    c = b\n    b = a\n    a = (T1 + T2) | 0\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n  this._f = (f + this._f) | 0\n  this._g = (g + this._g) | 0\n  this._h = (h + this._h) | 0\n}\n\nSha256.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(32)\n\n  H.writeInt32BE(this._a, 0)\n  H.writeInt32BE(this._b, 4)\n  H.writeInt32BE(this._c, 8)\n  H.writeInt32BE(this._d, 12)\n  H.writeInt32BE(this._e, 16)\n  H.writeInt32BE(this._f, 20)\n  H.writeInt32BE(this._g, 24)\n  H.writeInt32BE(this._h, 28)\n\n  return H\n}\n","export function seqEqual(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n    for (let i = 0; i < arr1.length; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isSequence(val) {\n    return val.length !== undefined;\n}\nexport function concatArgs(...args) {\n    const ret = [];\n    args.forEach(function (arg) {\n        if (isSequence(arg)) {\n            for (let j = 0; j < arg.length; j++) {\n                ret.push(arg[j]);\n            }\n        }\n        else {\n            ret.push(arg);\n        }\n    });\n    return ret;\n}\n","/*!\n\nripple-address-codec - encodes/decodes base58 encoded XRP Ledger identifiers.\n\nCopyright (c) Ripple\n\nPermission to use, copy, modify, and/or distribute this software for any purpose\nwith or without fee is hereby granted, provided that the above copyright notice\nand this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD\nTO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS.\nIN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL\nDAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN\nAN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION\nWITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n\n*/\n\nimport baseCodec from 'base-x';\nimport Sha256 from '../sha256';\nimport { seqEqual, concatArgs } from './utils';\n\nclass Codec {\n    constructor(options) {\n        this.sha256 = options.sha256;\n        this.alphabet = options.alphabet;\n        this.codec = baseCodec(this.alphabet);\n        this.base = this.alphabet.length;\n    }\n    encodeChecked(buffer) {\n        const check = this.sha256(this.sha256(buffer)).slice(0, 4);\n        return this.encodeRaw(Buffer.from(concatArgs(buffer, check)));\n    }\n    encodeRaw(bytes) {\n        return this.codec.encode(bytes);\n    }\n    decodeChecked(base58string) {\n        const buffer = this.decodeRaw(base58string);\n        if (buffer.length < 5) {\n            throw new Error('invalid_input_size: decoded data must have length >= 5');\n        }\n        if (!this.verifyCheckSum(buffer)) {\n            throw new Error('checksum_invalid');\n        }\n        return buffer.slice(0, -4);\n    }\n    decodeRaw(base58string) {\n        return this.codec.decode(base58string);\n    }\n    verifyCheckSum(bytes) {\n        const computed = this.sha256(this.sha256(bytes.slice(0, -4))).slice(0, 4);\n        const checksum = bytes.slice(-4);\n        return seqEqual(computed, checksum);\n    }\n}\n\nconst codecOptions = {\n    sha256: function (bytes) {\n        return new Sha256().update(Buffer.from(bytes)).digest();\n    },\n    alphabet: 'rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz'\n};\n\nexport const codec = new Codec(codecOptions);\n","/*!\n\nrskjs-util - A collection of utility functions for RSK.\n\nCopyright (c) 2018 RSK Smart.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN T\nHE SOFTWARE.\n\n*/\n\nimport { Keccak } from 'sha3';\n\nexport const stripHexPrefix = (str) => {\n    return str.slice(0, 2) === '0x' ? str.slice(2) : str\n};\nexport const toChecksumAddress = (address, chainId = null) => {\n    if (typeof address !== 'string') {\n        throw new Error(\"stripHexPrefix param must be type 'string', is currently type \" + (typeof address) + \".\");\n    }\n    const strip_address = stripHexPrefix(address).toLowerCase()\n    const prefix = chainId != null ? (chainId.toString() + '0x') : ''\n    const keccak_hash = keccak(prefix + strip_address).toString('hex')\n    let output = '0x'\n\n    for (let i = 0; i < strip_address.length; i++)\n        output += parseInt(keccak_hash[i], 16) >= 8 ?\n            strip_address[i].toUpperCase() :\n            strip_address[i];\n    return output\n};\nexport function isValidChecksumAddress(address, chainId) {\n    return isValidAddress(address) && (toChecksumAddress(address, chainId) === address)\n}\nfunction isValidAddress(address) {\n    return /^0x[0-9a-fA-F]{40}$/.test(address)\n}\nfunction keccak(a) {\n    return new Keccak(256).update(a).digest()\n}\n","export const assert = (value, errMsg) => {\n  if (!value) {\n    throw errMsg\n  }\n};\n\nexport const assertBuffer = (keyBuffer, errMsg) => {\n  if (!Buffer.isBuffer(keyBuffer)) {\n    throw errMsg\n  }\n};\n","import bigInt from 'big-integer';\nimport { assert } from './../helper';\n\nconst ONE = bigInt.one;\nconst ZERO = bigInt.zero;\nconst THREE = bigInt(3);\n\nfunction testBit(bigIntVal, n) {\n  return bigIntVal.and(ONE.shiftLeft(n)).notEquals(ZERO);\n}\n\nfunction bufferToBigInt(buffer) {\n  return bigInt.fromArray(Array.prototype.slice.call(buffer, 0), 256);\n}\n\nfunction bigIntToBuffer(bigIntVal, size) {\n  const { value } = bigIntVal.toArray(256);\n  const zeroBytesLength = size ? Math.max(size - value.length, 0) : 0;\n\n  return Buffer.from([...Array(zeroBytesLength).fill(0), ...value]);\n}\n\nexport default function Point (curve, x, y, z) {\n  assert(z !== undefined, 'Missing Z coordinate')\n\n  this.curve = curve\n  this.x = x\n  this.y = y\n  this.z = z\n  this._zInv = null\n\n  this.compressed = true\n}\n\nObject.defineProperty(Point.prototype, 'zInv', {\n  get: function () {\n    if (this._zInv === null) {\n      this._zInv = this.z.modInv(this.curve.p)\n    }\n\n    return this._zInv\n  }\n})\n\nObject.defineProperty(Point.prototype, 'affineX', {\n  get: function () {\n    return this.x.multiply(this.zInv).mod(this.curve.p)\n  }\n})\n\nObject.defineProperty(Point.prototype, 'affineY', {\n  get: function () {\n    return this.y.multiply(this.zInv).mod(this.curve.p)\n  }\n})\n\nPoint.fromAffine = function (curve, x, y) {\n  return new Point(curve, x, y, ONE)\n}\n\nPoint.prototype.equals = function (other) {\n  if (other === this) return true\n  if (this.curve.isInfinity(this)) return this.curve.isInfinity(other)\n  if (this.curve.isInfinity(other)) return this.curve.isInfinity(this)\n\n  // u = Y2 * Z1 - Y1 * Z2\n  var u = other.y.multiply(this.z).subtract(this.y.multiply(other.z)).mod(this.curve.p)\n\n  if (u.compare(ZERO) !== 0) return false\n\n  // v = X2 * Z1 - X1 * Z2\n  var v = other.x.multiply(this.z).subtract(this.x.multiply(other.z)).mod(this.curve.p)\n\n  return v.compare(ZERO) === 0\n}\n\nPoint.prototype.negate = function () {\n  var y = this.curve.p.subtract(this.y)\n\n  return new Point(this.curve, this.x, y, this.z)\n}\n\nPoint.prototype.add = function (b) {\n  if (this.curve.isInfinity(this)) return b\n  if (this.curve.isInfinity(b)) return this\n\n  var x1 = this.x\n  var y1 = this.y\n  var x2 = b.x\n  var y2 = b.y\n\n  // u = Y2 * Z1 - Y1 * Z2\n  var u = y2.multiply(this.z).subtract(y1.multiply(b.z)).mod(this.curve.p)\n  // v = X2 * Z1 - X1 * Z2\n  var v = x2.multiply(this.z).subtract(x1.multiply(b.z)).mod(this.curve.p)\n\n  if (v.compare(ZERO) === 0) {\n    if (u.compare(ZERO) === 0) {\n      return this.twice() // this == b, so double\n    }\n\n    return this.curve.infinity // this = -b, so infinity\n  }\n\n  var v2 = v.square()\n  var v3 = v2.multiply(v)\n  var x1v2 = x1.multiply(v2)\n  var zu2 = u.square().multiply(this.z)\n\n  // x3 = v * (z2 * (z1 * u^2 - 2 * x1 * v^2) - v^3)\n  var x3 = zu2.subtract(x1v2.shiftLeft(1)).multiply(b.z).subtract(v3).multiply(v).mod(this.curve.p)\n  // y3 = z2 * (3 * x1 * u * v^2 - y1 * v^3 - z1 * u^3) + u * v^3\n  var y3 = x1v2.multiply(THREE).multiply(u).subtract(y1.multiply(v3)).subtract(zu2.multiply(u)).multiply(b.z).add(u.multiply(v3)).mod(this.curve.p)\n  // z3 = v^3 * z1 * z2\n  var z3 = v3.multiply(this.z).multiply(b.z).mod(this.curve.p)\n\n  return new Point(this.curve, x3, y3, z3)\n}\n\nPoint.prototype.twice = function () {\n  if (this.curve.isInfinity(this)) return this\n  if (this.y.compare(ZERO) === 0) return this.curve.infinity\n\n  var x1 = this.x\n  var y1 = this.y\n\n  var y1z1 = y1.multiply(this.z).mod(this.curve.p)\n  var y1sqz1 = y1z1.multiply(y1).mod(this.curve.p)\n  var a = this.curve.a\n\n  // w = 3 * x1^2 + a * z1^2\n  var w = x1.square().multiply(THREE)\n\n  if (a.compare(ZERO) !== 0) {\n    w = w.add(this.z.square().multiply(a))\n  }\n\n  w = w.mod(this.curve.p)\n  // x3 = 2 * y1 * z1 * (w^2 - 8 * x1 * y1^2 * z1)\n  var x3 = w.square().subtract(x1.shiftLeft(3).multiply(y1sqz1)).shiftLeft(1).multiply(y1z1).mod(this.curve.p)\n  // y3 = 4 * y1^2 * z1 * (3 * w * x1 - 2 * y1^2 * z1) - w^3\n  var y3 = w.multiply(THREE).multiply(x1).subtract(y1sqz1.shiftLeft(1)).shiftLeft(2).multiply(y1sqz1).subtract(w.pow(3)).mod(this.curve.p)\n  // z3 = 8 * (y1 * z1)^3\n  var z3 = y1z1.pow(3).shiftLeft(3).mod(this.curve.p)\n\n  return new Point(this.curve, x3, y3, z3)\n}\n\n// Simple NAF (Non-Adjacent Form) multiplication algorithm\n// TODO: modularize the multiplication algorithm\nPoint.prototype.multiply = function (k) {\n  if (this.curve.isInfinity(this)) return this\n  if (k.compare(ZERO) === 0) return this.curve.infinity\n\n  var e = k\n  var h = e.multiply(THREE)\n\n  var neg = this.negate()\n  var R = this\n\n  for (var i = h.bitLength() - 2; i > 0; --i) {\n    var hBit = testBit(h, i);\n    var eBit = testBit(e, i);\n\n    R = R.twice()\n\n    if (hBit !== eBit) {\n      R = R.add(hBit ? this : neg)\n    }\n  }\n\n  return R\n}\n\n// Compute this*j + x*k (simultaneous multiplication)\nPoint.prototype.multiplyTwo = function (j, x, k) {\n  var i = Math.max(j.bitLength(), k.bitLength()) - 1\n  var R = this.curve.infinity\n  var both = this.add(x)\n\n  while (i >= 0) {\n    var jBit = testBit(j, i);\n    var kBit = testBit(k, i);\n\n    R = R.twice()\n\n    if (jBit) {\n      if (kBit) {\n        R = R.add(both)\n      } else {\n        R = R.add(this)\n      }\n    } else if (kBit) {\n      R = R.add(x)\n    }\n    --i\n  }\n\n  return R\n}\n\nPoint.prototype.getEncoded = function (compressed) {\n  if (compressed == null) compressed = this.compressed\n  if (this.curve.isInfinity(this)) return new Buffer('00', 'hex') // Infinity point encoded is simply '00'\n\n  var x = this.affineX\n  var y = this.affineY\n  var byteLength = this.curve.pLength\n  var buffer\n\n  // 0x02/0x03 | X\n  if (compressed) {\n    buffer = new Buffer(1 + byteLength)\n    buffer.writeUInt8(y.isEven() ? 0x02 : 0x03, 0)\n\n  // 0x04 | X | Y\n  } else {\n    buffer = new Buffer(1 + byteLength + byteLength)\n    buffer.writeUInt8(0x04, 0)\n\n    bigIntToBuffer(y, byteLength).copy(buffer, 1 + byteLength)\n  }\n\n  bigIntToBuffer(x, byteLength).copy(buffer, 1)\n\n  return buffer\n}\n\nPoint.decodeFrom = function (curve, buffer) {\n  var type = buffer.readUInt8(0)\n  var compressed = (type !== 4)\n\n  var byteLength = Math.floor((curve.p.bitLength() + 7) / 8)\n  var x = bufferToBigInt(buffer.slice(1, 1 + byteLength));\n\n  var Q\n  if (compressed) {\n    assert(buffer.length === byteLength + 1, 'Invalid sequence length')\n    assert(type === 0x02 || type === 0x03, 'Invalid sequence tag')\n\n    var isOdd = (type === 0x03)\n    Q = curve.pointFromX(isOdd, x)\n  } else {\n    assert(buffer.length === 1 + byteLength + byteLength, 'Invalid sequence length')\n\n    var y = bufferToBigInt(buffer.slice(1 + byteLength));\n    Q = Point.fromAffine(curve, x, y)\n  }\n\n  Q.compressed = compressed\n  return Q\n}\n\nPoint.prototype.toString = function () {\n  if (this.curve.isInfinity(this)) return '(INFINITY)'\n\n  return '(' + this.affineX.toString() + ',' + this.affineY.toString() + ')'\n}\n","import bigInt from 'big-integer';\nimport Point from './point';\nimport { assert } from './../helper';\n\nconst ZERO = bigInt.zero;\nconst ONE = bigInt.one;\n\nexport default function Curve (p, a, b, Gx, Gy, n, h) {\n  this.p = p\n  this.a = a\n  this.b = b\n  this.G = Point.fromAffine(this, Gx, Gy)\n  this.n = n\n  this.h = h\n\n  this.infinity = new Point(this, null, null, ZERO)\n\n  // result caching\n  this.pOverFour = p.add(ONE).shiftRight(2)\n\n  // determine size of p in bytes\n  this.pLength = Math.floor((this.p.bitLength() + 7) / 8)\n}\n\nCurve.prototype.pointFromX = function (isOdd, x) {\n  var alpha = x.pow(3).add(this.a.multiply(x)).add(this.b).mod(this.p)\n  var beta = alpha.modPow(this.pOverFour, this.p) // XXX: not compatible with all curves\n\n  var y = beta\n  if (beta.isEven() ^ !isOdd) {\n    y = this.p.subtract(y) // -y % p\n  }\n\n  return Point.fromAffine(this, x, y)\n}\n\nCurve.prototype.isInfinity = function (Q) {\n  if (Q === this.infinity) return true\n\n  return Q.z.compare(ZERO) === 0 && Q.y.compare(ZERO) !== 0\n}\n\nCurve.prototype.isOnCurve = function (Q) {\n  if (this.isInfinity(Q)) return true\n\n  var x = Q.affineX\n  var y = Q.affineY\n  var a = this.a\n  var b = this.b\n  var p = this.p\n\n  // Check that xQ and yQ are integers in the interval [0, p - 1]\n  if (x.compare(ZERO) < 0 || x.compareTo(p) >= 0) return false\n  if (y.compare(ZERO) < 0 || y.compareTo(p) >= 0) return false\n\n  // and check that y^2 = x^3 + ax + b (mod p)\n  var lhs = y.square().mod(p)\n  var rhs = x.pow(3).add(a.multiply(x)).add(b).mod(p)\n  return lhs.equals(rhs)\n}\n\n/**\n * Validate an elliptic curve point.\n *\n * See SEC 1, section 3.2.2.1: Elliptic Curve Public Key Validation Primitive\n */\nCurve.prototype.validate = function (Q) {\n  // Check Q != O\n  assert(!this.isInfinity(Q), 'Point is at infinity')\n  assert(this.isOnCurve(Q), 'Point is not on the curve')\n\n  // Check nQ = O (where Q is a scalar multiple of G)\n  var nQ = Q.multiply(this.n)\n  assert(this.isInfinity(nQ), 'Point is not a scalar multiple of G')\n\n  return true\n}\n","import { SHA3 } from 'sha3';\nimport { RIPEMD160 } from 'ripemd160-min';\n\nexport function sha256(data, resultEncoding) {\n  return new SHA3(256).update(data).digest(resultEncoding);\n}\n\nexport function ripemd160(data) {\n  return Buffer.from(new RIPEMD160().update(data).digest());\n}\n","import base58 from 'bs58';\nimport { assert, assertBuffer } from './helper';\nimport { sha256, ripemd160 } from './hash';\n\nexport function checkEncode(keyBuffer) {\n  const keyType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  assertBuffer(keyBuffer, 'expecting keyBuffer<Buffer>');\n\n  if (keyType === 'sha256x2') {\n    // legacy\n    const checksum = sha256(sha256(keyBuffer)).slice(0, 4);\n    return base58.encode(Buffer.concat([keyBuffer, checksum]));\n  } else {\n    const check = [keyBuffer];\n\n    if (keyType) {\n      check.push(Buffer.from(keyType));\n    }\n\n    const _checksum = ripemd160(Buffer.concat(check)).slice(0, 4);\n\n    return base58.encode(Buffer.concat([keyBuffer, _checksum]));\n  }\n}\n\nexport function checkDecode(keyString) {\n  const keyType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  assert(keyString, 'private key expected');\n  const buffer = new Buffer(base58.decode(keyString));\n  const checksum = buffer.slice(-4);\n  const key = buffer.slice(0, -4);\n  let newCheck;\n\n  if (keyType === 'sha256x2') {\n    // legacy\n    newCheck = sha256(sha256(key)).slice(0, 4); // WIF (legacy)\n  } else {\n    const check = [key];\n\n    if (keyType) {\n      check.push(Buffer.from(keyType));\n    }\n\n    newCheck = ripemd160(Buffer.concat(check)).slice(0, 4); //PVT\n  }\n\n  if (checksum.toString('hex') !== newCheck.toString('hex')) {\n    throw new Error('Invalid checksum, ' + \"\".concat(checksum.toString('hex'), \" != \").concat(newCheck.toString('hex')));\n  }\n\n  return key;\n}\n","/*!\neosjs-ecc - Elliptic curve cryptography functions (ECC).\n\nMIT License\n\nCopyright (c) EOSIO\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\nimport { getCurveByName, Point } from './ecc';\nimport { checkEncode, checkDecode } from './key_utils';\n\nconst secp256k1 = getCurveByName('secp256k1');\n\nexport default function PublicKey(Q) {\n  const pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n\n  if (typeof Q === 'string') {\n    return PublicKey.fromString(Q, pubkey_prefix);\n  } else if (Buffer.isBuffer(Q)) {\n    return PublicKey.fromBuffer(Q);\n  } else if (typeof Q === 'object' && Q.Q) {\n    return PublicKey(Q.Q);\n  }\n\n  function toBuffer() {\n    const compressed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Q.compressed;\n    return Q.getEncoded(compressed);\n  }\n\n  function toString() {\n    const pubkey_prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'EOS';\n    return pubkey_prefix + checkEncode(toBuffer());\n  }\n\n  function toHex() {\n    return toBuffer().toString('hex');\n  }\n\n  return {\n    Q,\n    toString,\n    toBuffer,\n    toHex\n  };\n}\n\nPublicKey.isValid = function (pubkey) {\n  const pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n\n  try {\n    PublicKey(pubkey, pubkey_prefix);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n\nPublicKey.fromBuffer = function (buffer) {\n  return PublicKey(Point.decodeFrom(secp256k1, buffer));\n};\n\nPublicKey.fromString = function (public_key) {\n  const pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n\n  try {\n    return PublicKey.fromStringOrThrow(public_key, pubkey_prefix);\n  } catch (e) {\n    return null;\n  }\n};\n\nPublicKey.fromStringOrThrow = function (public_key) {\n  const pubkey_prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'EOS';\n  const match = public_key.match(/^PUB_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);\n\n  if (match === null) {\n    // legacy\n    const prefix_match = new RegExp(\"^\" + pubkey_prefix);\n\n    if (prefix_match.test(public_key)) {\n      public_key = public_key.substring(pubkey_prefix.length);\n    }\n\n    return PublicKey.fromBuffer(checkDecode(public_key));\n  }\n\n  const [, keyType, keyString] = match;\n\n  return PublicKey.fromBuffer(checkDecode(keyString, keyType));\n};\n\nPublicKey.fromHex = function (hex) {\n  return PublicKey.fromBuffer(new Buffer(hex, 'hex'));\n};\n\nPublicKey.fromStringHex = function (hex) {\n  return PublicKey.fromString(new Buffer(hex, 'hex'));\n};\n","import bigInt from 'big-integer';\nimport curves from './curves.json';\nimport Curve from './curve';\n\nexport default function getCurveByName (name) {\n  const curve = curves[name];\n\n  if (!curve) {\n    return null;\n  }\n\n  const p = bigInt(curve.p, 16);\n  const a = bigInt(curve.a, 16);\n  const b = bigInt(curve.b, 16);\n  const n = bigInt(curve.n, 16);\n  const h = bigInt(curve.h, 16);\n  const Gx = bigInt(curve.Gx, 16);\n  const Gy = bigInt(curve.Gy, 16);\n\n  return new Curve(p, a, b, Gx, Gy, n, h);\n}\n","/*!\n\n   Copyright 2015 Stellar Development Foundation\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n----\n\nIncluded code for base58 encoding is licensed under the MIT license:\n\nCopyright (c) 2011 Google Inc\nCopyright (c) 2013 BitPay Inc\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\nimport baseCodec from 'base-x';\nimport { crc16xmodem } from './crc16xmodem';\n\nconst ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567';\nconst { encode, decode } = baseCodec(ALPHABET);\n\nconst isString = value => typeof value == 'string';\nconst isNull = value => value === null;\nconst isUndefined = value => value === undefined;\n\nvar versionBytes = {\n    ed25519PublicKey: 6 << 3, // G\n    ed25519SecretSeed: 18 << 3, // S\n    preAuthTx: 19 << 3, // T\n    sha256Hash: 23 << 3 // X\n};\n\nexport const decodeCheck = (versionByteName, encoded) => {\n    if (!isString(encoded)) {\n        throw new TypeError('encoded argument must be of type String');\n    }\n\n    var decoded = decode(encoded);\n    var versionByte = decoded[0];\n    var payload = decoded.slice(0, -2);\n    var data = payload.slice(1);\n    var checksum = decoded.slice(-2);\n\n    if (encoded !== encode(decoded)) {\n        throw new Error('invalid encoded string');\n    }\n\n    var expectedVersion = versionBytes[versionByteName];\n\n    if (isUndefined(expectedVersion)) {\n        throw new Error(versionByteName + ' is not a valid version byte name.  expected one of \"accountId\" or \"seed\"');\n    }\n\n    if (versionByte !== expectedVersion) {\n        throw new Error('invalid version byte. expected ' + expectedVersion + ', got ' + versionByte);\n    }\n\n    var expectedChecksum = calculateChecksum(payload);\n\n    if (!verifyChecksum(expectedChecksum, checksum)) {\n        throw new Error('invalid checksum');\n    }\n\n    return Buffer.from(data);\n};\n\nexport const encodeCheck = (versionByteName, data) => {\n    if (isNull(data) || isUndefined(data)) {\n        throw new Error('cannot encode null data');\n    }\n\n    var versionByte = versionBytes[versionByteName];\n\n    if (isUndefined(versionByte)) {\n        throw new Error(versionByteName + ' is not a valid version byte name.  expected one of \"ed25519PublicKey\", \"ed25519SecretSeed\", \"preAuthTx\", \"sha256Hash\"');\n    }\n\n    data = Buffer.from(data);\n    var versionBuffer = Buffer.from([versionByte]);\n    var payload = Buffer.concat([versionBuffer, data]);\n    var checksum = calculateChecksum(payload);\n    var unencoded = Buffer.concat([payload, checksum]);\n\n    return encode(unencoded);\n}\n\nexport const calculateChecksum = (payload) => {\n    // This code calculates CRC16-XModem checksum of payload\n    // and returns it as Buffer in little-endian order.\n    var checksum = Buffer.alloc(2);\n    checksum.writeUInt16LE(crc16xmodem(payload), 0);\n    return checksum;\n};\nconst verifyChecksum = (expected, actual) => {\n    if (expected.length !== actual.length) {\n        return false;\n    }\n\n    if (expected.length === 0) {\n        return true;\n    }\n\n    for (let i = 0; i < expected.length; i += 1) {\n        if (expected[i] !== actual[i]) {\n            return false;\n        }\n    }\n\n    return true;\n};\n","export const crc16xmodem = (buf, previous) => {\n    if (!Buffer.isBuffer(buf)) {\n        buf = new Buffer()\n    }\n\n    let crc = typeof previous !== 'undefined' ? ~~previous : 0x0;\n\n    for (let index = 0; index < buf.length; index++) {\n        const byte = buf[index];\n        let code = (crc >>> 8) & 0xff;\n\n        code ^= byte & 0xff;\n        code ^= code >>> 4;\n        crc = (crc << 8) & 0xffff;\n        crc ^= code;\n        code = (code << 5) & 0xffff;\n        crc ^= code;\n        code = (code << 7) & 0xffff;\n        crc ^= code;\n    }\n\n    return crc;\n};\n","/*! Copyright (c) 2019 Parity Tech\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n\n*/\n// modified https://github.com/paritytech/oo7/blob/master/packages/oo7-substrate/src/ss58.js\n// to make it work with kusama addresses and compacted it a bit by only using what its needed\n// credits to parity tech for original code\n//\nimport bs58 from 'bs58';\nimport { blake2b } from 'blakejs/blake2b';\n\nlet defaultType = 42\nconst KNOWN_TYPES = [0, 1, 2, 42, 43, 68, 69];\n\nconst PREFIX = stringToBytes('SS58PRE');\n\nclass AccountIndex extends Number {\n\ttoJSON() {\n\t\treturn { _type: 'AccountIndex', data: this+0 }\n\t}\n}\n\nfunction stringToBytes(s) {\n\tvar data = new Uint8Array(s.length);\n\tfor (var i = 0; i < s.length; i++){\n\t\tdata[i] = s.charCodeAt(i);\n\t}\n\treturn data;\n}\n\n/* tslint:disable:no-bitwise */\nfunction toLE(val, bytes) {\n\tlet flip = false;\n\tif (val < 0) {\n\t\tval = -val - 1;\n\t\tflip = true;\n\t}\n\n\tlet r = new Uint8Array(bytes);\n\tfor (var o = 0; o < bytes; ++o) {\n\t\tr[o] = val % 256;\n\t\tif (flip) {\n\t\t\tr[o] = ~r[o] & 0xff;\n\t\t}\n\t\tval /= 256;\n\t}\n\treturn r;\n}\n\nfunction leToNumber(le) {\n\tlet r = 0;\n\tlet a = 1;\n\tle.forEach(x => { r += x * a; a *= 256; });\n\treturn r;\n}\n\nfunction mergeUint8Arrays(a, b) {\n\tif (!a.length) {\n\t\ta = [a];\n\t}\n\tif (!b.length) {\n\t\tb = [b];\n\t}\n\n\tconst c = new Uint8Array(a.length + b.length);\n\n\tc.set(a);\n\tc.set(b, a.length);\n\n\treturn c;\n}\n\nexport function ss58Encode(a, type = defaultType, checksumLength = null, length = null, accountId) {\n\tlet payload\n\tif (KNOWN_TYPES.indexOf(type) === -1) {\n\t\tthrow new Error('Unknown ss58 address type', type)\n\t}\n\tif (typeof a === 'number' || a instanceof AccountIndex) {\n\t\tlet minLength = (a < (1 << 8) ? 1 : a < (1 << 16) ? 2 : a < (1 << 32) ? 4 : 8)\n\t\tlength = length ? length : minLength\n\t\tif ([1, 2, 4, 8].indexOf(length) === -1) {\n\t\t\tthrow new Error('Invalid length')\n\t\t}\n\t\tlength = Math.max(minLength, length)\n\t\tif (checksumLength && typeof checksumLength !== 'number') {\n\t\t\tthrow new Error('Invalid checksum length')\n\t\t}\n\t\tswitch (length) {\n\t\t\tcase 1: { checksumLength = 1; break; }\n\t\t\tcase 2: { checksumLength = ([1, 2].indexOf(checksumLength) + 1) || 1; break; }\n\t\t\tcase 4: { checksumLength = ([1, 2, 3, 4].indexOf(checksumLength) + 1) || 1; break; }\n\t\t\tcase 8: { checksumLength = ([1, 2, 3, 4, 5, 6, 7, 8].indexOf(checksumLength) + 1) || 1; break; }\n\t\t}\n\t\tpayload = toLE(a, length)\n\t} else if ((a instanceof Uint8Array) && ((a.length === 32) || (a.length === 35))) {\n\t\tchecksumLength = 2\n\t\tpayload = (a.length === 35) ? a.slice(1, 33) : a\n\t\taccountId = payload\n\t} else {\n\t\tthrow new Error('Unknown item to encode as ss58. Passing back.', a)\n\t}\n\tlet hash = blake2b(mergeUint8Arrays(PREFIX, ((type & 1) ? accountId : mergeUint8Arrays(type, payload))));\n\tlet complete = mergeUint8Arrays(mergeUint8Arrays(type, payload), hash.slice(0, checksumLength));\n\treturn bs58.encode(Buffer.from(complete))\n}\n/* tslint:enable:no-bitwise */\n\nexport function ss58Decode(ss58, lookupIndex=0) {\n\tlet a\n\ttry {\n\t\ta = bs58.decode(ss58)\n\t}\n\tcatch (e) {\n\t\treturn null\n\t}\n\n\tlet type = a[0]\n\tif (KNOWN_TYPES.indexOf(type) === -1) {\n\t\treturn null\n\t}\n\n\tif (a.length < 3) {\n\t\treturn null\n\t\t//throw new Error('Invalid length of payload for address', a.length)\n\t}\n\tlet length = a.length <= 3\n\t\t? 1\n\t\t: a.length <= 5\n\t\t? 2\n\t\t: a.length <= 9\n\t\t? 4\n\t\t: a.length <= 17\n\t\t? 8\n\t\t: 32\n\tlet checksumLength = a.length - 1 - length\n\n\tlet payload = a.slice(1, 1 + length)\n\tlet checksum = a.slice(1 + a.length)\n\n\tlet accountId\n\tif (length === 32) {\n\t\taccountId = payload\n\t}\n\n\tlet result = length < 32\n\t\t? new AccountIndex(leToNumber(payload))\n\t\t: new Buffer.from(payload)\n\n\tif (a[0] % 1 && !accountId && !lookupIndex) {\n\t\treturn null\n\t}\n\tlet hash = blake2b(mergeUint8Arrays(PREFIX, (a[0] % 1 ? (accountId || lookupIndex(result)) : a.slice(0, 1 + length))))\n\n\tfor (var i = 0; i < checksumLength; ++i) {\n\t\tif (hash[i] !== a[1 + length + i]) {\n\t\t\t// invalid checksum\n\t\t\treturn null\n\t\t}\n\t}\n\n\treturn result\n}\n","/**\n * @license\n * https://github.com/bitcoincashjs/cashaddr\n * Copyright (c) 2017-2018 Emilio Almansi\n * Distributed under the MIT software license, see the accompanying\n * file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n */\n\n/**\n * Validation utility.\n *\n * @module validation\n */\n\n/**\n * Error thrown when encoding or decoding fail due to invalid input.\n *\n * @constructor ValidationError\n * @param {string} message Error description.\n */\nexport function ValidationError(message) {\n  var error = new Error();\n  this.name = error.name = 'ValidationError';\n  this.message = error.message = message;\n  this.stack = error.stack;\n}\n\nValidationError.prototype = Object.create(Error.prototype);\n\n/**\n * Validates a given condition, throwing a {@link ValidationError} if\n * the given condition does not hold.\n *\n * @static\n * @param {boolean} condition Condition to validate.\n * @param {string} message Error message in case the condition does not hold.\n */\nexport function validate(condition, message) {\n  if (message == null) {\n\t  message = \"Assertion failed.\";\n  }\n  if (!condition) {\n    throw new ValidationError(message);\n  }\n}\n","/*!\n * cashaddr.js - cashaddr for bcash\n * Copyright (c) 2017, Christopher Jeffrey (MIT License).\n * https://github.com/bcoin-org/bcoin\n *\n * Implementation of CashAddr\n * https://github.com/bitcoincashorg/spec/blob/master/cashaddr.md\n *\n * Parts of this software are based on \"bitcoin-abc\".\n * https://github.com/Bitcoin-ABC/bitcoin-abc\n *\n * Parts of this software are based on \"bech32\".\n * https://github.com/sipa/bech32\n *\n * Copyright (c) 2017 Pieter Wuille\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport { validate } from './validation';\n\n/**\n * U64\n */\nclass U64 {\n  constructor(hi, lo) {\n    this.hi = hi | 0;\n    this.lo = lo | 0;\n  }\n\n  ushrn32(bits) {\n    bits &= 63;\n\n    let lo = this.lo;\n\n    if (bits === 0)\n      return lo;\n\n    if (bits < 32) {\n      lo >>>= bits;\n      lo |= this.hi << (32 - bits);\n    } else {\n      lo = this.hi >>> (bits - 32);\n    }\n\n    return lo;\n  }\n}\n\n/**\n * Constants\n */\n\nconst POOL105 = Buffer.allocUnsafe(105);\nconst CHARSET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l';\n\nconst TABLE = [\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  15, -1, 10, 17, 21, 20, 26, 30,  7,  5, -1, -1, -1, -1, -1, -1,\n  -1, 29, -1, 24, 13, 25,  9,  8, 23, -1, 18, 22, 31, 27, 19, -1,\n   1,  0,  3, 16, 11, 28, 12, 14,  6,  4,  2, -1, -1, -1, -1, -1,\n  -1, 29, -1, 24, 13, 25,  9,  8, 23, -1, 18, 22, 31, 27, 19, -1,\n   1,  0,  3, 16, 11, 28, 12, 14,  6,  4,  2, -1, -1, -1, -1, -1\n];\n\nconst CHECKSUM_MASK = new U64(0x00000007, 0xffffffff);\n\nconst GENERATOR = [\n  new U64(0x00000098, 0xf2bc8e61),\n  new U64(0x00000079, 0xb76d99e2),\n  new U64(0x000000f3, 0x3e5fb3c4),\n  new U64(0x000000ae, 0x2eabe2a8),\n  new U64(0x0000001e, 0x4f43e470)\n];\n\n/**\n * Update checksum\n * @ignore\n * @param {U64} chk\n * @param {Number} x\n * @returns {U64} -- new checksum\n */\n\nfunction polymod(pre, x) {\n  const c = pre;\n\n  // b = c >> 35\n  const b = c.hi >>> 3;\n\n  // c = (c & CHECKSUM_MASK) << 5\n  c.hi &= CHECKSUM_MASK.hi;\n  c.lo &= CHECKSUM_MASK.lo;\n  c.hi <<= 5;\n  c.hi |= c.lo >>> 27;\n  c.lo <<= 5;\n\n  for (let i = 0; i < GENERATOR.length; i++) {\n    if ((b >>> i) & 1) {\n      // c ^= GENERATOR[i]\n      c.hi ^= GENERATOR[i].hi;\n      c.lo ^= GENERATOR[i].lo;\n    }\n  }\n\n  // c ^= x\n  c.lo ^= x;\n\n  return c;\n}\n\n/**\n * Serialize data to cashaddr.\n * @param {String} prefix\n * @param {Buffer} data - 5bit serialized\n * @returns {String}\n */\n\nfunction serialize(prefix, data) {\n  validate(typeof prefix === 'string');\n  validate(Buffer.isBuffer(data));\n\n  const chk = new U64(0, 1);\n\n  let str = '';\n\n  let upper = false;\n  let lower = false;\n\n  for (let i = 0; i < prefix.length; i++) {\n    let ch = prefix.charCodeAt(i);\n\n    if ((ch & 0xff00) || (ch >>> 5) === 0)\n      throw new Error('Invalid cashaddr character.');\n\n    if (ch >= 0x61 && ch <= 0x7a) {\n      lower = true;\n    } else if (ch >= 0x41 && ch <= 0x5a) {\n      upper = true;\n      ch = (ch - 0x41) + 0x61;\n    } else if (ch >= 0x30 && ch <= 0x39) {\n      throw new Error('Invalid cashaddr prefix.');\n    }\n\n    polymod(chk, ch & 0x1f);\n\n    str += String.fromCharCode(ch);\n  }\n\n  if (lower && upper)\n    throw new Error('Invalid cashaddr prefix.');\n\n  polymod(chk, 0);\n  str += ':';\n\n  for (let i = 0; i < data.length; i++) {\n    const ch = data[i];\n\n    if ((ch >>> 5) !== 0)\n      throw new Error('Invalid cashaddr value.');\n\n    polymod(chk, ch);\n\n    str += CHARSET[ch];\n  }\n\n  for (let i = 0; i < 8; i++)\n    polymod(chk, 0);\n\n  chk.lo ^= 1;\n\n  for (let i = 0; i < 8; i++) {\n    const v = chk.ushrn32((7 - i) * 5) & 0x1f;\n\n    str += CHARSET[v];\n  }\n\n  return str;\n}\n\n/**\n * Decode CashAddr string.\n * @param {String} str\n * @param {String} defaultPrefix (lowercase and w/o numbers)\n * @returns {Array} [prefix, data]\n */\n\nfunction deserialize(str, defaultPrefix) {\n  validate(typeof str === 'string');\n\n  if (str.length < 8 || str.length > 196) // 83 + 1 + 112\n    throw new Error('Invalid cashaddr data length.');\n\n  let lower = false;\n  let upper = false;\n  let number = false;\n  let plen = 0;\n\n  // Process lower/upper, make sure we have prefix.\n  for (let i = 0; i < str.length; i++) {\n    const ch = str.charCodeAt(i);\n\n    if (ch >= 0x61 && ch <= 0x7a) {\n      lower = true;\n      continue;\n    }\n\n    if (ch >= 0x41 && ch <= 0x5a) {\n      upper = true;\n      continue;\n    }\n\n    if (ch >= 0x30 && ch <= 0x39) {\n      number = true;\n      continue;\n    }\n\n    if (ch === 0x3a) { // :\n      if (number || i === 0 || i > 83)\n        throw new Error('Invalid cashaddr prefix.');\n\n      if (plen !== 0)\n        throw new Error('Invalid cashaddr separators.');\n\n      plen = i;\n\n      continue;\n    }\n\n    throw new Error('Invalid cashaddr character.');\n  }\n\n  if (upper && lower)\n    throw new Error('Invalid cashaddr casing.');\n\n  // Process checksum.\n  const chk = new U64(0, 1);\n\n  let prefix;\n\n  if (plen === 0) {\n    prefix = defaultPrefix.toLowerCase();\n  } else {\n    prefix = str.substring(0, plen).toLowerCase();\n    plen += 1;\n  }\n\n  // Process prefix.\n  for (let i = 0; i < prefix.length; i++) {\n    const ch = prefix.charCodeAt(i);\n\n    polymod(chk, (ch | 0x20) & 0x1f);\n  }\n\n  polymod(chk, 0);\n\n  const dlen = str.length - plen;\n\n  if (dlen <= 8 || dlen > 112)\n    throw new Error('Invalid cashaddr data length.');\n\n  const data = Buffer.allocUnsafe(dlen);\n\n  for (let i = plen; i < str.length; i++) {\n    const ch = str.charCodeAt(i);\n    const v = (ch & 0xff80) ? -1 : TABLE[ch];\n\n    if (v === -1)\n      throw new Error('Invalid cashaddr character.');\n\n    polymod(chk, v);\n\n    if (i + 8 < str.length)\n      data[i - plen] = v;\n  }\n\n  const valid = chk.hi === 0 && chk.lo === 1 && prefix === defaultPrefix;\n\n  if (!valid)\n    throw new Error('Invalid cashaddr checksum.');\n\n  return [prefix, data.slice(0, -8)];\n}\n\n/**\n * Convert serialized data to another base.\n * @param {Buffer} input\n * @param {Number} i\n * @param {Buffer} output\n * @param {Number} j\n * @param {Number} frombits\n * @param {Number} tobits\n * @param {Boolean} pad\n * @returns {Buffer}\n */\n\nfunction convert(input, i, output, j, frombits, tobits, pad) {\n  validate(Buffer.isBuffer(input));\n  validate((i >>> 0) === i);\n  validate(Buffer.isBuffer(output));\n  validate((j >>> 0) === j);\n  validate((frombits & 0xff) === frombits);\n  validate((tobits & 0xff) === tobits);\n  validate(typeof pad === 'boolean');\n\n  const maxv = (1 << tobits) - 1;\n\n  let acc = 0;\n  let bits = 0;\n\n  for (; i < input.length; i++) {\n    const value = input[i];\n\n    if ((value >>> frombits) !== 0)\n      throw new Error('Invalid bits.');\n\n    acc = (acc << frombits) | value;\n    bits += frombits;\n\n    while (bits >= tobits) {\n      bits -= tobits;\n      output[j++] = (acc >>> bits) & maxv;\n    }\n  }\n\n  if (pad) {\n    if (bits)\n      output[j++] = (acc << (tobits - bits)) & maxv;\n  } else {\n    if (bits >= frombits || ((acc << (tobits - bits)) & maxv))\n      throw new Error('Invalid bits.');\n  }\n\n  validate(j <= output.length);\n\n  return output.slice(0, j);\n}\n\n/**\n * Calculate size required for bit conversion.\n * @param {Number} len\n * @param {Number} frombits\n * @param {Number} tobits\n * @param {Boolean} pad\n * @returns {Number}\n */\n\nfunction convertSize(len, frombits, tobits, pad) {\n  validate((len >>> 0) === len);\n  validate((frombits & 0xff) === frombits);\n  validate((tobits & 0xff) === tobits);\n  validate(typeof pad === 'boolean');\n  validate(tobits !== 0);\n\n  let size = (len * frombits + (tobits - 1)) / tobits;\n\n  size >>>= 0;\n\n  if (pad)\n    size += 1;\n\n  return size;\n}\n\n/**\n * Convert serialized data to another base.\n * @param {Buffer} data\n * @param {Number} frombits\n * @param {Number} tobits\n * @param {Boolean} pad\n * @returns {Buffer}\n */\n\nfunction convertBits(data, frombits, tobits, pad) {\n  validate(Buffer.isBuffer(data));\n  validate((frombits & 0xff) === frombits);\n  validate((tobits & 0xff) === tobits);\n  validate(typeof pad === 'boolean');\n\n  const size = convertSize(data.length, frombits, tobits, pad);\n  const out = Buffer.allocUnsafe(size);\n\n  return convert(data, 0, out, 0, frombits, tobits, pad);\n}\n\n/**\n * Get cashaddr encoded size.\n * @param {Number} size\n * @returns {Number}\n */\n\nfunction encodedSize(size) {\n  validate((size >>> 0) === size);\n\n  switch (size) {\n    case 20:\n      return 0;\n    case 24:\n      return 1;\n    case 28:\n      return 2;\n    case 32:\n      return 3;\n    case 40:\n      return 4;\n    case 48:\n      return 5;\n    case 56:\n      return 6;\n    case 64:\n      return 7;\n    default:\n      throw new Error('Non standard length.');\n  }\n}\n\n/**\n * Serialize data to cashaddr\n * @param {String} prefix\n * @param {Number} type - (0 = P2PKH, 1 = P2SH)\n * @param {Buffer} hash\n * @returns {String}\n */\n\nexport function cashaddrEncode(prefix, type, hash) {\n  validate(typeof prefix === 'string');\n  // There are 4 bits available for the version (2 ^ 4 = 16)\n  validate((type & 0x0f) === type, 'Invalid cashaddr type.');\n  validate(Buffer.isBuffer(hash));\n\n  if (prefix.length === 0 || prefix.length > 83)\n    throw new Error('Invalid cashaddr prefix.');\n\n  const size = encodedSize(hash.length);\n  const data = Buffer.allocUnsafe(hash.length + 1);\n  data[0] = (type << 3) | size;\n  hash.copy(data, 1);\n\n  const output = POOL105;\n  const converted = convert(data, 0, output, 0, 8, 5, true);\n\n  return serialize(prefix, converted);\n}\n\n/**\n * Deserialize data from CashAddr address.\n * @param {String} str\n * @param {String} defaultPrefix (lowercase and w/o numbers)\n * @returns {Object}\n */\n\nexport function cashaddrDecode(str, defaultPrefix = 'bitcoincash') {\n  validate(typeof str === 'string');\n  validate(typeof defaultPrefix === 'string');\n\n  const [prefix, data] = deserialize(str, defaultPrefix);\n  const extrabits = (data.length * 5) & 7;\n\n  if (extrabits >= 5)\n    throw new Error('Invalid padding in data.');\n\n  const last = data[data.length - 1];\n  const mask = (1 << extrabits) - 1;\n\n  if (last & mask)\n    throw new Error('Non zero padding.');\n\n  const output = data;\n  const converted = convert(data, 0, output, 0, 5, 8, false);\n\n  const type = (converted[0] >>> 3) & 0x1f;\n  const hash = converted.slice(1);\n\n  let size = 20 + 4 * (converted[0] & 0x03);\n\n  if (converted[0] & 0x04)\n    size *= 2;\n\n  if (size !== hash.length)\n    throw new Error('Invalid cashaddr data length.');\n\n  return {\n    prefix: prefix,\n    type: type,\n    hash: hash\n  };\n}\n\n/**\n * Test whether a string is a cashaddr string.\n * @param {String} str\n * @param {String} defaultPrefix (lowercase and w/o numbers)\n * @returns {Boolean}\n */\n\nexport function cashaddrTest(str, defaultPrefix = 'bitcoincash') {\n  try {\n    cashaddrDecode(str, defaultPrefix);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\n","/*!\nbs58check - A straight forward implementation of base58check extending upon bs58.\n\nThe MIT License (MIT)\nCopyright (c) 2017 Daniel Cousens\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n\n*/\n\nimport Sha256 from '../sha256';\nimport base58 from 'bs58';\n\nfunction sha256x2 (buffer) {\n    var tmp = new Sha256().update(buffer).digest()\n    return new Sha256().update(tmp).digest()\n}\n\nconst bs58Check = function (checksumFn) {\n    // Encode a buffer as a base58-check encoded string\n    function encode (payload) {\n        var checksum = checksumFn(payload)\n\n        return base58.encode(Buffer.concat([\n            payload,\n            checksum\n        ], payload.length + 4))\n    }\n    function decodeRaw (buffer) {\n        var payload = buffer.slice(0, -4)\n        var checksum = buffer.slice(-4)\n        var newChecksum = checksumFn(payload)\n        /* tslint:disable:no-bitwise */\n        if (checksum[0] ^ newChecksum[0] |\n            checksum[1] ^ newChecksum[1] |\n            checksum[2] ^ newChecksum[2] |\n            checksum[3] ^ newChecksum[3]) { return }\n\n        return payload\n    }\n    // Decode a base58-check encoded string to a buffer, no result if checksum is wrong\n    function decodeUnsafe (data) {\n        var buffer = base58.decodeUnsafe(data)\n        if (!buffer) { return }\n\n        return decodeRaw(buffer)\n    }\n    function decode (data) {\n        var buffer = base58.decode(data)\n        var payload = decodeRaw(buffer, checksumFn)\n        if (!payload) { throw new Error('Invalid checksum') }\n        return payload\n    }\n    return { bs58Encode: encode, bs58Decode: decode, decodeUnsafe: decodeUnsafe }\n};\n\nconst bs58 = bs58Check(sha256x2);\n\nexport const { bs58Decode, bs58Encode, decodeUnsafe } = bs58;\n\nexport default bs58;\n"],"names":["alphabet","hex2a","hexx","hex","toString","str","i","length","String","fromCharCode","parseInt","substr","_hexEncodeArray","ua2hex","ua","s","code","b32decode","r","ArrayBuffer","b","Uint8Array","j","v","_i4","indexOf","b32encode","parts","quanta","Math","floor","leftover","_i","push","charAt","charCodeAt","replace","_i2","pop","_i3","join","isValid","addr","address","toUpperCase","decoded","toHex","KeccakChecksum","Buffer","from","slice","arrayOfBytes","finalHex","round","payload","Keccak","update","digest","Hash","blockSize","finalSize","this","_block","alloc","_finalSize","_blockSize","_len","prototype","data","enc","block","accum","offset","assigned","remainder","min","_update","rem","fill","bits","writeUInt32BE","lowBits","hash","_hash","Error","ctor","superCtor","K","W","Array","Sha256","init","_w","call","ch","x","y","z","maj","sigma0","sigma1","gamma0","isSequence","val","undefined","super_","Object","create","constructor","value","enumerable","writable","configurable","_a","_b","_c","_d","_e","_f","_g","_h","M","a","c","d","e","f","g","h","readInt32BE","T1","T2","H","allocUnsafe","writeInt32BE","codec","Codec","options","sha256","baseCodec","base","_proto","encodeChecked","buffer","check","encodeRaw","ret","arguments","forEach","arg","concatArgs","bytes","encode","decodeChecked","base58string","decodeRaw","verifyCheckSum","decode","arr1","arr2","seqEqual","stripHexPrefix","toChecksumAddress","chainId","strip_address","toLowerCase","keccak_hash","output","isValidChecksumAddress","test","isValidAddress","assert","errMsg","assertBuffer","keyBuffer","isBuffer","ONE","bigInt","one","ZERO","zero","THREE","testBit","bigIntVal","n","and","shiftLeft","notEquals","bufferToBigInt","fromArray","bigIntToBuffer","size","toArray","zeroBytesLength","max","concat","Point","curve","_zInv","compressed","defineProperty","get","modInv","p","multiply","zInv","mod","fromAffine","equals","other","isInfinity","subtract","compare","negate","add","x1","y1","x2","u","twice","infinity","v2","square","v3","x1v2","zu2","x3","y3","z3","y1z1","y1sqz1","w","pow","k","neg","R","bitLength","hBit","eBit","multiplyTwo","both","jBit","kBit","getEncoded","affineX","affineY","byteLength","pLength","writeUInt8","isEven","copy","decodeFrom","Q","type","readUInt8","pointFromX","Curve","Gx","Gy","G","pOverFour","shiftRight","isOdd","beta","modPow","isOnCurve","compareTo","lhs","rhs","validate","nQ","resultEncoding","SHA3","ripemd160","RIPEMD160","checkEncode","keyType","checksum","base58","_checksum","checkDecode","keyString","newCheck","key","secp256k1","name","curves","getCurveByName","PublicKey","pubkey_prefix","fromString","fromBuffer","toBuffer","pubkey","public_key","fromStringOrThrow","match","prefix_match","RegExp","substring","fromHex","fromStringHex","_baseCodec","isUndefined","versionBytes","ed25519PublicKey","ed25519SecretSeed","preAuthTx","sha256Hash","decodeCheck","versionByteName","encoded","TypeError","versionByte","expectedVersion","expectedChecksum","calculateChecksum","verifyChecksum","encodeCheck","versionBuffer","unencoded","writeUInt16LE","buf","previous","crc","index","crc16xmodem","expected","actual","KNOWN_TYPES","PREFIX","stringToBytes","AccountIndex","_Number","apply","toJSON","_type","_wrapNativeSuper","Number","mergeUint8Arrays","set","ss58Encode","checksumLength","accountId","minLength","flip","o","toLE","blake2b","complete","bs58","ss58Decode","ss58","lookupIndex","result","le","leToNumber","ValidationError","message","error","stack","condition","U64","hi","lo","ushrn32","POOL105","CHARSET","TABLE","CHECKSUM_MASK","GENERATOR","polymod","pre","convert","input","frombits","tobits","pad","maxv","acc","cashaddrEncode","prefix","encodedSize","chk","upper","lower","serialize","cashaddrDecode","defaultPrefix","_deserialize","number","plen","dlen","deserialize","extrabits","converted","checksumFn","newChecksum","bs58Encode","bs58Decode","decodeUnsafe","bs58Check","tmp"],"mappings":"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"}