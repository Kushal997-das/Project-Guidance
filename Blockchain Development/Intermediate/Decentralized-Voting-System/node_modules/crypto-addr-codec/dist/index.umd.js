!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("sha3"),require("base-x"),require("safe-buffer"),require("big-integer"),require("bs58"),require("ripemd160-min"),require("blakejs/blake2b")):"function"==typeof define&&define.amd?define(["exports","sha3","base-x","safe-buffer","big-integer","bs58","ripemd160-min","blakejs/blake2b"],e):e((t=t||self).cryptoAddrCodec={},t.sha3,t.baseX,t.safeBuffer,t.bigInteger,t.bs58,t.ripemd160Min,t.blake2b)}(this,function(t,e,r,n,i,o,f,u){r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",s=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],c=function(t){for(var e=new ArrayBuffer(5*t.length/8),r=new Uint8Array(e),n=0;n<t.length/8;n++){for(var i=[0,0,0,0,0,0,0,0],o=0;o<8;++o)i[o]=a.indexOf(t[8*n+o]);r[5*n+0]=i[0]<<3|i[1]>>2,r[5*n+1]=(3&i[1])<<6|i[2]<<1|i[3]>>4,r[5*n+2]=(15&i[3])<<4|i[4]>>1,r[5*n+3]=(1&i[4])<<7|i[5]<<2|i[6]>>3,r[5*n+4]=(7&i[6])<<5|i[7]}return r};function h(t,e){this._block=n.Buffer.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}h.prototype.update=function(t,e){"string"==typeof t&&(t=n.Buffer.from(t,e=e||"utf8"));for(var r=this._block,i=this._blockSize,o=t.length,f=this._len,u=0;u<o;){for(var a=f%i,s=Math.min(o-u,i-a),c=0;c<s;c++)r[a+c]=t[u+c];u+=s,(f+=s)%i==0&&this._update(r)}return this._len+=o,this},h.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0;this._block.writeUInt32BE((r-n)/4294967296,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i},h.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var l,d,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=new Array(64);function y(){this.init(),this._w=v,h.call(this,64,56)}function g(t,e,r){return r^t&(e^r)}function w(t,e,r){return t&e|r&(t|e)}function m(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function b(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function _(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function E(t){return void 0!==t.length}l=y,(d=h)&&(l.super_=d,l.prototype=Object.create(d.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})),y.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},y.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,f=0|this._d,u=0|this._e,a=0|this._f,s=0|this._g,c=0|this._h,h=0;h<16;++h)r[h]=t.readInt32BE(4*h);for(;h<64;++h)r[h]=0|(((e=r[h-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[h-7]+_(r[h-15])+r[h-16];for(var l=0;l<64;++l){var d=c+b(u)+g(u,a,s)+p[l]+r[l]|0,v=m(n)+w(n,i,o)|0;c=s,s=a,a=u,u=f+d|0,f=o,o=i,i=n,n=d+v|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=f+this._d|0,this._e=u+this._e|0,this._f=a+this._f|0,this._g=s+this._g|0,this._h=c+this._h|0},y.prototype._hash=function(){var t=n.Buffer.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var B=new(function(){function t(t){this.sha256=t.sha256,this.alphabet=t.alphabet,this.codec=r(this.alphabet),this.base=this.alphabet.length}var e=t.prototype;return e.encodeChecked=function(t){var e=this.sha256(this.sha256(t)).slice(0,4);return this.encodeRaw(Buffer.from(function(){var t=[];return[].slice.call(arguments).forEach(function(e){if(E(e))for(var r=0;r<e.length;r++)t.push(e[r]);else t.push(e)}),t}(t,e)))},e.encodeRaw=function(t){return this.codec.encode(t)},e.decodeChecked=function(t){var e=this.decodeRaw(t);if(e.length<5)throw new Error("invalid_input_size: decoded data must have length >= 5");if(!this.verifyCheckSum(e))throw new Error("checksum_invalid");return e.slice(0,-4)},e.decodeRaw=function(t){return this.codec.decode(t)},e.verifyCheckSum=function(t){return function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}(this.sha256(this.sha256(t.slice(0,-4))).slice(0,4),t.slice(-4))},t}())({sha256:function(t){return(new y).update(Buffer.from(t)).digest()},alphabet:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"}),I=function(t){return"0x"===t.slice(0,2)?t.slice(2):t},x=function(t,r){if(void 0===r&&(r=null),"string"!=typeof t)throw new Error("stripHexPrefix param must be type 'string', is currently type "+typeof t+".");for(var n,i=I(t).toLowerCase(),o=(n=(null!=r?r.toString()+"0x":"")+i,new e.Keccak(256).update(n).digest()).toString("hex"),f="0x",u=0;u<i.length;u++)f+=parseInt(o[u],16)>=8?i[u].toUpperCase():i[u];return f},A=function(t,e){if(!t)throw e},S=function(t,e){if(!Buffer.isBuffer(t))throw e},k=i.one,O=i.zero,z=i(3);function C(t,e){return t.and(k.shiftLeft(e)).notEquals(O)}function P(t){return i.fromArray(Array.prototype.slice.call(t,0),256)}function U(t,e){var r=t.toArray(256).value,n=e?Math.max(e-r.length,0):0;return Buffer.from([].concat(Array(n).fill(0),r))}function j(t,e,r,n){A(void 0!==n,"Missing Z coordinate"),this.curve=t,this.x=e,this.y=r,this.z=n,this._zInv=null,this.compressed=!0}Object.defineProperty(j.prototype,"zInv",{get:function(){return null===this._zInv&&(this._zInv=this.z.modInv(this.curve.p)),this._zInv}}),Object.defineProperty(j.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}}),Object.defineProperty(j.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}}),j.fromAffine=function(t,e,r){return new j(t,e,r,k)},j.prototype.equals=function(t){return t===this||(this.curve.isInfinity(this)?this.curve.isInfinity(t):this.curve.isInfinity(t)?this.curve.isInfinity(this):0===t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p).compare(O)&&0===t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p).compare(O))},j.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new j(this.curve,this.x,t,this.z)},j.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,i=t.y.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),o=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(0===o.compare(O))return 0===i.compare(O)?this.twice():this.curve.infinity;var f=o.square(),u=f.multiply(o),a=e.multiply(f),s=i.square().multiply(this.z),c=s.subtract(a.shiftLeft(1)).multiply(t.z).subtract(u).multiply(o).mod(this.curve.p),h=a.multiply(z).multiply(i).subtract(r.multiply(u)).subtract(s.multiply(i)).multiply(t.z).add(i.multiply(u)).mod(this.curve.p),l=u.multiply(this.z).multiply(t.z).mod(this.curve.p);return new j(this.curve,c,h,l)},j.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(0===this.y.compare(O))return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),i=this.curve.a,o=t.square().multiply(z);0!==i.compare(O)&&(o=o.add(this.z.square().multiply(i)));var f=(o=o.mod(this.curve.p)).square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),u=o.multiply(z).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(o.pow(3)).mod(this.curve.p),a=r.pow(3).shiftLeft(3).mod(this.curve.p);return new j(this.curve,f,u,a)},j.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(0===t.compare(O))return this.curve.infinity;for(var e=t,r=e.multiply(z),n=this.negate(),i=this,o=r.bitLength()-2;o>0;--o){var f=C(r,o),u=C(e,o);i=i.twice(),f!==u&&(i=i.add(f?this:n))}return i},j.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,i=this.curve.infinity,o=this.add(e);n>=0;){var f=C(t,n),u=C(r,n);i=i.twice(),f?i=i.add(u?o:this):u&&(i=i.add(e)),--n}return i},j.prototype.getEncoded=function(t){if(null==t&&(t=this.compressed),this.curve.isInfinity(this))return new Buffer("00","hex");var e,r=this.affineX,n=this.affineY,i=this.curve.pLength;return t?(e=new Buffer(1+i)).writeUInt8(n.isEven()?2:3,0):((e=new Buffer(1+i+i)).writeUInt8(4,0),U(n,i).copy(e,1+i)),U(r,i).copy(e,1),e},j.decodeFrom=function(t,e){var r,n=e.readUInt8(0),i=4!==n,o=Math.floor((t.p.bitLength()+7)/8),f=P(e.slice(1,1+o));if(i)A(e.length===o+1,"Invalid sequence length"),A(2===n||3===n,"Invalid sequence tag"),r=t.pointFromX(3===n,f);else{A(e.length===1+o+o,"Invalid sequence length");var u=P(e.slice(1+o));r=j.fromAffine(t,f,u)}return r.compressed=i,r},j.prototype.toString=function(){return this.curve.isInfinity(this)?"(INFINITY)":"("+this.affineX.toString()+","+this.affineY.toString()+")"};var q=i.zero,L=i.one;function M(t,e,r,n,i,o,f){this.p=t,this.a=e,this.b=r,this.G=j.fromAffine(this,n,i),this.n=o,this.h=f,this.infinity=new j(this,null,null,q),this.pOverFour=t.add(L).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}M.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p).modPow(this.pOverFour,this.p),n=r;return r.isEven()^!t&&(n=this.p.subtract(n)),j.fromAffine(this,e,n)},M.prototype.isInfinity=function(t){return t===this.infinity||0===t.z.compare(q)&&0!==t.y.compare(q)},M.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,i=this.b,o=this.p;if(e.compare(q)<0||e.compareTo(o)>=0)return!1;if(r.compare(q)<0||r.compareTo(o)>=0)return!1;var f=r.square().mod(o),u=e.pow(3).add(n.multiply(e)).add(i).mod(o);return f.equals(u)},M.prototype.validate=function(t){A(!this.isInfinity(t),"Point is at infinity"),A(this.isOnCurve(t),"Point is not on the curve");var e=t.multiply(this.n);return A(this.isInfinity(e),"Point is not a scalar multiple of G"),!0};var R={p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"};function F(t,r){return new e.SHA3(256).update(t).digest(r)}function T(t){return Buffer.from((new f.RIPEMD160).update(t).digest())}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(S(t,"expecting keyBuffer<Buffer>"),"sha256x2"===e){var r=F(F(t)).slice(0,4);return o.encode(Buffer.concat([t,r]))}var n=[t];e&&n.push(Buffer.from(e));var i=T(Buffer.concat(n)).slice(0,4);return o.encode(Buffer.concat([t,i]))}function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;A(t,"private key expected");var r,n=new Buffer(o.decode(t)),i=n.slice(-4),f=n.slice(0,-4);if("sha256x2"===e)r=F(F(f)).slice(0,4);else{var u=[f];e&&u.push(Buffer.from(e)),r=T(Buffer.concat(u)).slice(0,4)}if(i.toString("hex")!==r.toString("hex"))throw new Error("Invalid checksum, "+"".concat(i.toString("hex")," != ").concat(r.toString("hex")));return f}var D=function(t){var e=R;if(!e)return null;var r=i(e.p,16),n=i(e.a,16),o=i(e.b,16),f=i(e.n,16),u=i(e.h,16);return new M(r,n,o,i(e.Gx,16),i(e.Gy,16),f,u)}();function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";if("string"==typeof t)return G.fromString(t,e);if(Buffer.isBuffer(t))return G.fromBuffer(t);if("object"==typeof t&&t.Q)return G(t.Q);function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.compressed;return t.getEncoded(e)}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EOS";return t+H(r())}function i(){return r().toString("hex")}return{Q:t,toString:n,toBuffer:r,toHex:i}}G.isValid=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";try{return G(t,e),!0}catch(t){return!1}},G.fromBuffer=function(t){return G(j.decodeFrom(D,t))},G.fromString=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";try{return G.fromStringOrThrow(t,e)}catch(t){return null}},G.fromStringOrThrow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS",r=t.match(/^PUB_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);if(null===r){var n=new RegExp("^"+e);return n.test(t)&&(t=t.substring(e.length)),G.fromBuffer(X(t))}var i=r[1],o=r[2];return G.fromBuffer(X(o,i))},G.fromHex=function(t){return G.fromBuffer(new Buffer(t,"hex"))},G.fromStringHex=function(t){return G.fromString(new Buffer(t,"hex"))};var N=r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),K=N.encode,Y=N.decode,V=function(t){return void 0===t},Q={ed25519PublicKey:48,ed25519SecretSeed:144,preAuthTx:152,sha256Hash:184},Z=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE(function(t,e){Buffer.isBuffer(t)||(t=new Buffer);for(var r=0,n=0;n<t.length;n++){var i=r>>>8&255;i^=255&t[n],r=r<<8&65535,r^=i^=i>>>4,r^=i=i<<5&65535,r^=i=i<<7&65535}return r}(t),0),e};function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function W(t,e){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function tt(t,e,r){return(tt=$()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&W(i,r.prototype),i}).apply(null,arguments)}function et(t){var e="function"==typeof Map?new Map:void 0;return(et=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return tt(t,arguments,J(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),W(r,t)})(t)}var rt=[0,1,2,42,43,68,69],nt=function(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}("SS58PRE"),it=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,W(e,r),n.prototype.toJSON=function(){return{_type:"AccountIndex",data:this+0}},n}(et(Number));function ot(t,e){t.length||(t=[t]),e.length||(e=[e]);var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function ft(t){var e=new Error;this.name=e.name="ValidationError",this.message=e.message=t,this.stack=e.stack}function ut(t,e){if(null==e&&(e="Assertion failed."),!t)throw new ft(e)}ft.prototype=Object.create(Error.prototype);var at=function(){function t(t,e){this.hi=0|t,this.lo=0|e}return t.prototype.ushrn32=function(t){var e=this.lo;return 0==(t&=63)||(t<32?(e>>>=t,e|=this.hi<<32-t):e=this.hi>>>t-32),e},t}(),st=Buffer.allocUnsafe(105),ct="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ht=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,15,-1,10,17,21,20,26,30,7,5,-1,-1,-1,-1,-1,-1,-1,29,-1,24,13,25,9,8,23,-1,18,22,31,27,19,-1,1,0,3,16,11,28,12,14,6,4,2,-1,-1,-1,-1,-1,-1,29,-1,24,13,25,9,8,23,-1,18,22,31,27,19,-1,1,0,3,16,11,28,12,14,6,4,2,-1,-1,-1,-1,-1],lt=new at(7,4294967295),dt=[new at(152,4072443489),new at(121,3077413346),new at(243,1046459332),new at(174,783016616),new at(30,1329849456)];function pt(t,e){var r=t,n=r.hi>>>3;r.hi&=lt.hi,r.lo&=lt.lo,r.hi<<=5,r.hi|=r.lo>>>27,r.lo<<=5;for(var i=0;i<dt.length;i++)n>>>i&1&&(r.hi^=dt[i].hi,r.lo^=dt[i].lo);return r.lo^=e,r}function vt(t,e,r,n,i,o,f){ut(Buffer.isBuffer(t)),ut(e>>>0===e),ut(Buffer.isBuffer(r)),ut(n>>>0===n),ut((255&i)===i),ut((255&o)===o),ut("boolean"==typeof f);for(var u=(1<<o)-1,a=0,s=0;e<t.length;e++){var c=t[e];if(c>>>i!=0)throw new Error("Invalid bits.");for(a=a<<i|c,s+=i;s>=o;)r[n++]=a>>>(s-=o)&u}if(f)s&&(r[n++]=a<<o-s&u);else if(s>=i||a<<o-s&u)throw new Error("Invalid bits.");return ut(n<=r.length),r.slice(0,n)}var yt=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{bs58Encode:function(e){var r=t(e);return o.encode(Buffer.concat([e,r],e.length+4))},bs58Decode:function(t){var r=e(o.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=o.decodeUnsafe(t);if(r)return e(r)}}}(function(t){var e=(new y).update(t).digest();return(new y).update(e).digest()}),gt=yt.bs58Decode,wt=yt.bs58Encode;t.b32decode=c,t.b32encode=function(t){var e=[],r=Math.floor(t.length/5),n=t.length%5;if(0!=n){for(var i=0;i<5-n;i++)t+="\0";r+=1}for(var o=0;o<r;o++)e.push(a.charAt(t.charCodeAt(5*o)>>3)),e.push(a.charAt((7&t.charCodeAt(5*o))<<2|t.charCodeAt(5*o+1)>>6)),e.push(a.charAt((63&t.charCodeAt(5*o+1))>>1)),e.push(a.charAt((1&t.charCodeAt(5*o+1))<<4|t.charCodeAt(5*o+2)>>4)),e.push(a.charAt((15&t.charCodeAt(5*o+2))<<1|t.charCodeAt(5*o+3)>>7)),e.push(a.charAt((127&t.charCodeAt(5*o+3))>>2)),e.push(a.charAt((3&t.charCodeAt(5*o+3))<<3|t.charCodeAt(5*o+4)>>5)),e.push(a.charAt(31&t.charCodeAt(5*o+4)));var f=0;1==n?f=6:2==n?f=4:3==n?f=3:4==n&&(f=1);for(var u=0;u<f;u++)e.pop();for(var s=0;s<f;s++)e.push("=");return e.join("")},t.bs58Decode=gt,t.bs58Encode=wt,t.calculateChecksum=Z,t.cashaddrDecode=function(t,e){void 0===e&&(e="bitcoincash"),ut("string"==typeof t),ut("string"==typeof e);var r=function(t,e){if(ut("string"==typeof t),t.length<8||t.length>196)throw new Error("Invalid cashaddr data length.");for(var r=!1,n=!1,i=!1,o=0,f=0;f<t.length;f++){var u=t.charCodeAt(f);if(u>=97&&u<=122)r=!0;else if(u>=65&&u<=90)n=!0;else if(u>=48&&u<=57)i=!0;else{if(58!==u)throw new Error("Invalid cashaddr character.");if(i||0===f||f>83)throw new Error("Invalid cashaddr prefix.");if(0!==o)throw new Error("Invalid cashaddr separators.");o=f}}if(n&&r)throw new Error("Invalid cashaddr casing.");var a,s=new at(0,1);0===o?a=e.toLowerCase():(a=t.substring(0,o).toLowerCase(),o+=1);for(var c=0;c<a.length;c++)pt(s,31&(32|a.charCodeAt(c)));pt(s,0);var h=t.length-o;if(h<=8||h>112)throw new Error("Invalid cashaddr data length.");for(var l=Buffer.allocUnsafe(h),d=o;d<t.length;d++){var p=t.charCodeAt(d),v=65408&p?-1:ht[p];if(-1===v)throw new Error("Invalid cashaddr character.");pt(s,v),d+8<t.length&&(l[d-o]=v)}if(0!==s.hi||1!==s.lo||a!==e)throw new Error("Invalid cashaddr checksum.");return[a,l.slice(0,-8)]}(t,e),n=r[0],i=r[1],o=5*i.length&7;if(o>=5)throw new Error("Invalid padding in data.");if(i[i.length-1]&(1<<o)-1)throw new Error("Non zero padding.");var f=vt(i,0,i,0,5,8,!1),u=f[0]>>>3&31,a=f.slice(1),s=20+4*(3&f[0]);if(4&f[0]&&(s*=2),s!==a.length)throw new Error("Invalid cashaddr data length.");return{prefix:n,type:u,hash:a}},t.cashaddrEncode=function(t,e,r){if(ut("string"==typeof t),ut((15&e)===e,"Invalid cashaddr type."),ut(Buffer.isBuffer(r)),0===t.length||t.length>83)throw new Error("Invalid cashaddr prefix.");var n=function(t){switch(ut(t>>>0===t),t){case 20:return 0;case 24:return 1;case 28:return 2;case 32:return 3;case 40:return 4;case 48:return 5;case 56:return 6;case 64:return 7;default:throw new Error("Non standard length.")}}(r.length),i=Buffer.allocUnsafe(r.length+1);return i[0]=e<<3|n,r.copy(i,1),function(t,e){ut("string"==typeof t),ut(Buffer.isBuffer(e));for(var r=new at(0,1),n="",i=!1,o=!1,f=0;f<t.length;f++){var u=t.charCodeAt(f);if(65280&u||u>>>5==0)throw new Error("Invalid cashaddr character.");if(u>=97&&u<=122)o=!0;else if(u>=65&&u<=90)i=!0,u=u-65+97;else if(u>=48&&u<=57)throw new Error("Invalid cashaddr prefix.");pt(r,31&u),n+=String.fromCharCode(u)}if(o&&i)throw new Error("Invalid cashaddr prefix.");pt(r,0),n+=":";for(var a=0;a<e.length;a++){var s=e[a];if(s>>>5!=0)throw new Error("Invalid cashaddr value.");pt(r,s),n+=ct[s]}for(var c=0;c<8;c++)pt(r,0);r.lo^=1;for(var h=0;h<8;h++){var l=31&r.ushrn32(5*(7-h));n+=ct[l]}return n}(t,vt(i,0,st,0,8,5,!0))},t.codec=B,t.decodeCheck=function(t,e){if("string"!=typeof e)throw new TypeError("encoded argument must be of type String");var r=Y(e),n=r[0],i=r.slice(0,-2),o=i.slice(1),f=r.slice(-2);if(e!==K(r))throw new Error("invalid encoded string");var u=Q[t];if(V(u))throw new Error(t+' is not a valid version byte name.  expected one of "accountId" or "seed"');if(n!==u)throw new Error("invalid version byte. expected "+u+", got "+n);if(!function(t,e){if(t.length!==e.length)return!1;if(0===t.length)return!0;for(var r=0;r<t.length;r+=1)if(t[r]!==e[r])return!1;return!0}(Z(i),f))throw new Error("invalid checksum");return Buffer.from(o)},t.encodeCheck=function(t,e){if(null===e||V(e))throw new Error("cannot encode null data");var r=Q[t];if(V(r))throw new Error(t+' is not a valid version byte name.  expected one of "ed25519PublicKey", "ed25519SecretSeed", "preAuthTx", "sha256Hash"');e=Buffer.from(e);var n=Buffer.from([r]),i=Buffer.concat([n,e]),o=Z(i),f=Buffer.concat([i,o]);return K(f)},t.eosPublicKey=G,t.hex2a=function(t){for(var e=t.toString(),r="",n=0;n<e.length;n+=2)r+=String.fromCharCode(parseInt(e.substr(n,2),16));return r},t.isValid=function(t){var r=t.toString().toUpperCase().replace(/-/g,"");if(!r||40!==r.length)return!1;var n,i=function(t){for(var e="",r=0;r<t.length;r++){var n=Math.round(t[r]).toString(16);1===n.length&&(n="0"+n),e+=n}return e}(c(r));return n=Buffer.from(i.slice(0,42),"hex"),new e.Keccak(256).update(n).digest("hex").toString().substr(0,8)===i.slice(42)},t.isValidChecksumAddress=function(t,e){return function(t){return/^0x[0-9a-fA-F]{40}$/.test(t)}(t)&&x(t,e)===t},t.ss58Decode=function(t,e){var r;void 0===e&&(e=0);try{r=o.decode(t)}catch(t){return null}if(-1===rt.indexOf(r[0]))return null;if(r.length<3)return null;var n,i=r.length<=3?1:r.length<=5?2:r.length<=9?4:r.length<=17?8:32,f=r.length-1-i,a=r.slice(1,1+i);r.slice(1+r.length),32===i&&(n=a);var s=i<32?new it(function(t){var e=0,r=1;return t.forEach(function(t){e+=t*r,r*=256}),e}(a)):new Buffer.from(a);if(r[0]%1&&!n&&!e)return null;for(var c=u.blake2b(ot(nt,r[0]%1?n||e(s):r.slice(0,1+i))),h=0;h<f;++h)if(c[h]!==r[1+i+h])return null;return s},t.ss58Encode=function(t,e,r,n,i){var f;if(void 0===e&&(e=42),void 0===r&&(r=null),void 0===n&&(n=null),-1===rt.indexOf(e))throw new Error("Unknown ss58 address type",e);if("number"==typeof t||t instanceof it){var a=t<256?1:t<65536?2:t<1?4:8;if(-1===[1,2,4,8].indexOf(n=n||a))throw new Error("Invalid length");if(n=Math.max(a,n),r&&"number"!=typeof r)throw new Error("Invalid checksum length");switch(n){case 1:r=1;break;case 2:r=[1,2].indexOf(r)+1||1;break;case 4:r=[1,2,3,4].indexOf(r)+1||1;break;case 8:r=[1,2,3,4,5,6,7,8].indexOf(r)+1||1}f=function(t,e){var r=!1;t<0&&(t=-t-1,r=!0);for(var n=new Uint8Array(e),i=0;i<e;++i)n[i]=t%256,r&&(n[i]=255&~n[i]),t/=256;return n}(t,n)}else{if(!(t instanceof Uint8Array)||32!==t.length&&35!==t.length)throw new Error("Unknown item to encode as ss58. Passing back.",t);r=2,i=f=35===t.length?t.slice(1,33):t}var s=u.blake2b(ot(nt,1&e?i:ot(e,f))),c=ot(ot(e,f),s.slice(0,r));return o.encode(Buffer.from(c))},t.stripHexPrefix=I,t.toChecksumAddress=x,t.ua2hex=function(t){for(var e="",r=0;r<t.length;r++){var n=t[r];e+=s[n>>>4],e+=s[15&n]}return e}});
//# sourceMappingURL=index.umd.js.map
