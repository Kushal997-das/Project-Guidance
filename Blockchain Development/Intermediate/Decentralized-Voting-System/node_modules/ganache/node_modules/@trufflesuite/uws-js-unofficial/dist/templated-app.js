"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const http_context_1 = require("./http-context");
class TemplatedApp {
    constructor() {
        this.httpContext = new http_context_1.HttpContext();
    }
    ws(pattern, behavior) {
        this.httpContext.onWs(pattern, behavior);
        this.httpContext.onHttp("get", pattern, (res, req) => {
            const secWebSocketKey = req.getHeader("sec-websocket-key");
            if (secWebSocketKey.length == 24) {
            }
            else {
                req.setYield(true);
            }
        }, true);
        return this;
    }
    get(pattern, handler) {
        this.httpContext.onHttp("get", pattern, handler);
        return this;
    }
    post(pattern, handler) {
        this.httpContext.onHttp("post", pattern, handler);
        return this;
    }
    options(pattern, handler) {
        this.httpContext.onHttp("options", pattern, handler);
        return this;
    }
    del(pattern, handler) {
        this.httpContext.onHttp("delete", pattern, handler);
        return this;
    }
    patch(pattern, handler) {
        this.httpContext.onHttp("patch", pattern, handler);
        return this;
    }
    put(pattern, handler) {
        this.httpContext.onHttp("put", pattern, handler);
        return this;
    }
    head(pattern, handler) {
        this.httpContext.onHttp("head", pattern, handler);
        return this;
    }
    connect(pattern, handler) {
        this.httpContext.onHttp("connect", pattern, handler);
        return this;
    }
    trace(pattern, handler) {
        this.httpContext.onHttp("trace", pattern, handler);
        return this;
    }
    any(pattern, handler) {
        this.httpContext.onHttp("*", pattern, handler);
        return this;
    }
    listen(arg1, arg2, arg3, arg4) {
        let host;
        let port;
        let options;
        let callback;
        if (typeof arg1 === "string") {
            host = arg1;
            port = arg2;
            if (typeof arg3 === "number") {
                options = arg3;
                callback = arg4;
            }
            else {
                options = 0;
                callback = arg3;
            }
        }
        else {
            port = arg1;
            if (typeof arg2 === "number") {
                options = arg2;
                callback = arg3;
            }
            else {
                options = 0;
                callback = arg2;
            }
        }
        this.httpContext.listen(host, port, callback);
        return this;
    }
    publish(topic, message, isBinary, compress) {
        throw new Error("Not implemented");
        return false;
    }
    numSubscribers(topic) {
        throw new Error("Not implemented");
        return 0;
    }
    addServerName(hostname, options) {
        throw new Error("Not implemented");
        return this;
    }
    removeServerName(hostname) {
        throw new Error("Not implemented");
        return this;
    }
    missingServerName(cb) {
        throw new Error("Not implemented");
        return this;
    }
    listen_unix(cb, path) {
        throw new Error("Not implemented");
    }
    domain(domain) {
        throw new Error("Not implemented");
    }
}
exports.default = TemplatedApp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGVkLWFwcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9mYWxsYmFjay90ZW1wbGF0ZWQtYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBU0EsaURBQTZDO0FBSTdDLE1BQXFCLFlBQVk7SUFHL0I7UUFDRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksMEJBQVcsRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxFQUFFLENBQ0EsT0FBeUIsRUFDekIsUUFBcUM7UUFFckMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBRXpDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUNyQixLQUFLLEVBQ0wsT0FBTyxFQUNQLENBQUMsR0FBaUIsRUFBRSxHQUFnQixFQUFFLEVBQUU7WUFDdEMsTUFBTSxlQUFlLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQzNELElBQUksZUFBZSxDQUFDLE1BQU0sSUFBSSxFQUFFLEVBQUU7YUFDakM7aUJBQU07Z0JBQ0wsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNwQjtRQUNILENBQUMsRUFDRCxJQUFJLENBQ0wsQ0FBQztRQUVGLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELEdBQUcsQ0FBQyxPQUF5QixFQUFFLE9BQW9CO1FBQ2pELElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDakQsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsSUFBSSxDQUFDLE9BQXlCLEVBQUUsT0FBb0I7UUFDbEQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNsRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxPQUFPLENB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